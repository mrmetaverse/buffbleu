/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["components_aframe-components_js"],{

/***/ "./components/aframe-components.js":
/*!*****************************************!*\
  !*** ./components/aframe-components.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("// Only run this code on the client side\nif (true) {\n    const nipplejs = __webpack_require__(/*! nipplejs */ \"./node_modules/nipplejs/dist/nipplejs.js\");\n    AFRAME.registerComponent('mobile-controls', {\n        init: function() {\n            // Mobile joystick controls\n            const joystickEl = document.createElement('div');\n            joystickEl.classList.add('joystick');\n            document.body.appendChild(joystickEl);\n            const joystick = nipplejs.create({\n                zone: joystickEl,\n                mode: 'static',\n                position: {\n                    left: '50px',\n                    bottom: '50px'\n                },\n                color: 'white'\n            });\n            const camera = this.el;\n            joystick.on('move', (evt, data)=>{\n                const speed = 0.1;\n                const x = Math.cos(data.angle.radian) * speed;\n                const z = Math.sin(data.angle.radian) * speed;\n                const pos = camera.getAttribute('position');\n                camera.setAttribute('position', {\n                    x: pos.x + x,\n                    y: pos.y,\n                    z: pos.z + z\n                });\n            });\n        }\n    });\n    AFRAME.registerComponent('parking-lot-texture', {\n        init: function() {\n            const canvas = document.getElementById('parkingTexture');\n            if (!canvas) return;\n            const ctx = canvas.getContext('2d');\n            // Set background to white\n            ctx.fillStyle = '#FFFFFF';\n            ctx.fillRect(0, 0, 512, 512);\n            // Draw parking lines\n            ctx.strokeStyle = '#333333';\n            ctx.lineWidth = 4;\n            // Draw straight lines\n            for(let i = 0; i < 512; i += 64){\n                // Vertical lines\n                ctx.beginPath();\n                ctx.moveTo(i, 0);\n                ctx.lineTo(i, 512);\n                ctx.stroke();\n                // Horizontal lines\n                ctx.beginPath();\n                ctx.moveTo(0, i);\n                ctx.lineTo(512, i);\n                ctx.stroke();\n            }\n            // Draw squiggles\n            ctx.strokeStyle = '#222222';\n            ctx.lineWidth = 2;\n            for(let i = 0; i < 10; i++){\n                ctx.beginPath();\n                ctx.moveTo(Math.random() * 512, Math.random() * 512);\n                for(let j = 0; j < 5; j++){\n                    ctx.quadraticCurveTo(Math.random() * 512, Math.random() * 512, Math.random() * 512, Math.random() * 512);\n                }\n                ctx.stroke();\n            }\n        }\n    });\n    AFRAME.registerComponent('custom-controls', {\n        init: function() {\n            const camera = this.el;\n            let moveForward = false;\n            let moveBackward = false;\n            let moveLeft = false;\n            let moveRight = false;\n            const speed = 0.15;\n            // Create D-pad container\n            const dpadContainer = document.createElement('div');\n            dpadContainer.className = 'dpad-container';\n            const dpad = document.createElement('div');\n            dpad.className = 'dpad';\n            // Create D-pad buttons\n            const buttons = {\n                up: createButton('dpad-up'),\n                right: createButton('dpad-right'),\n                down: createButton('dpad-down'),\n                left: createButton('dpad-left')\n            };\n            function createButton(className) {\n                const button = document.createElement('div');\n                button.className = \"dpad-button \".concat(className);\n                dpad.appendChild(button);\n                return button;\n            }\n            // Add touch event listeners\n            buttons.up.addEventListener('touchstart', ()=>moveForward = true);\n            buttons.up.addEventListener('touchend', ()=>moveForward = false);\n            buttons.down.addEventListener('touchstart', ()=>moveBackward = true);\n            buttons.down.addEventListener('touchend', ()=>moveBackward = false);\n            buttons.left.addEventListener('touchstart', ()=>moveLeft = true);\n            buttons.left.addEventListener('touchend', ()=>moveLeft = false);\n            buttons.right.addEventListener('touchstart', ()=>moveRight = true);\n            buttons.right.addEventListener('touchend', ()=>moveRight = false);\n            dpadContainer.appendChild(dpad);\n            document.body.appendChild(dpadContainer);\n            // Movement animation\n            this.tick = function() {\n                const rotation = camera.object3D.rotation;\n                const position = camera.object3D.position;\n                // Calculate forward direction based on camera rotation\n                const direction = new THREE.Vector3();\n                camera.object3D.getWorldDirection(direction);\n                if (moveForward) {\n                    position.x += direction.x * speed;\n                    position.z += direction.z * speed;\n                }\n                if (moveBackward) {\n                    position.x -= direction.x * speed;\n                    position.z -= direction.z * speed;\n                }\n                if (moveLeft) {\n                    position.x += Math.cos(rotation.y + Math.PI / 2) * speed;\n                    position.z += Math.sin(rotation.y + Math.PI / 2) * speed;\n                }\n                if (moveRight) {\n                    position.x += Math.cos(rotation.y - Math.PI / 2) * speed;\n                    position.z += Math.sin(rotation.y - Math.PI / 2) * speed;\n                }\n            };\n        }\n    });\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL2FmcmFtZS1jb21wb25lbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBLHdDQUF3QztBQUN4QyxJQUFJLElBQTZCLEVBQUU7SUFDakMsTUFBTUEsV0FBV0MsbUJBQU9BLENBQUMsMERBQVU7SUFFbkNDLE9BQU9DLGlCQUFpQixDQUFDLG1CQUFtQjtRQUMxQ0MsTUFBTTtZQUNKLDJCQUEyQjtZQUMzQixNQUFNQyxhQUFhQyxTQUFTQyxhQUFhLENBQUM7WUFDMUNGLFdBQVdHLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDO1lBQ3pCSCxTQUFTSSxJQUFJLENBQUNDLFdBQVcsQ0FBQ047WUFFMUIsTUFBTU8sV0FBV1osU0FBU2EsTUFBTSxDQUFDO2dCQUMvQkMsTUFBTVQ7Z0JBQ05VLE1BQU07Z0JBQ05DLFVBQVU7b0JBQUVDLE1BQU07b0JBQVFDLFFBQVE7Z0JBQU87Z0JBQ3pDQyxPQUFPO1lBQ1Q7WUFFQSxNQUFNQyxTQUFTLElBQUksQ0FBQ0MsRUFBRTtZQUN0QlQsU0FBU1UsRUFBRSxDQUFDLFFBQVEsQ0FBQ0MsS0FBS0M7Z0JBQ3hCLE1BQU1DLFFBQVE7Z0JBQ2QsTUFBTUMsSUFBSUMsS0FBS0MsR0FBRyxDQUFDSixLQUFLSyxLQUFLLENBQUNDLE1BQU0sSUFBSUw7Z0JBQ3hDLE1BQU1NLElBQUlKLEtBQUtLLEdBQUcsQ0FBQ1IsS0FBS0ssS0FBSyxDQUFDQyxNQUFNLElBQUlMO2dCQUN4QyxNQUFNUSxNQUFNYixPQUFPYyxZQUFZLENBQUM7Z0JBQ2hDZCxPQUFPZSxZQUFZLENBQUMsWUFBWTtvQkFDOUJULEdBQUdPLElBQUlQLENBQUMsR0FBR0E7b0JBQ1hVLEdBQUdILElBQUlHLENBQUM7b0JBQ1JMLEdBQUdFLElBQUlGLENBQUMsR0FBR0E7Z0JBQ2I7WUFDRjtRQUNGO0lBQ0Y7SUFFQTdCLE9BQU9DLGlCQUFpQixDQUFDLHVCQUF1QjtRQUM5Q0MsTUFBTTtZQUNKLE1BQU1pQyxTQUFTL0IsU0FBU2dDLGNBQWMsQ0FBQztZQUN2QyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNRSxNQUFNRixPQUFPRyxVQUFVLENBQUM7WUFFOUIsMEJBQTBCO1lBQzFCRCxJQUFJRSxTQUFTLEdBQUc7WUFDaEJGLElBQUlHLFFBQVEsQ0FBQyxHQUFHLEdBQUcsS0FBSztZQUV4QixxQkFBcUI7WUFDckJILElBQUlJLFdBQVcsR0FBRztZQUNsQkosSUFBSUssU0FBUyxHQUFHO1lBRWhCLHNCQUFzQjtZQUN0QixJQUFJLElBQUlDLElBQUksR0FBR0EsSUFBSSxLQUFLQSxLQUFLLEdBQUk7Z0JBQy9CLGlCQUFpQjtnQkFDakJOLElBQUlPLFNBQVM7Z0JBQ2JQLElBQUlRLE1BQU0sQ0FBQ0YsR0FBRztnQkFDZE4sSUFBSVMsTUFBTSxDQUFDSCxHQUFHO2dCQUNkTixJQUFJVSxNQUFNO2dCQUVWLG1CQUFtQjtnQkFDbkJWLElBQUlPLFNBQVM7Z0JBQ2JQLElBQUlRLE1BQU0sQ0FBQyxHQUFHRjtnQkFDZE4sSUFBSVMsTUFBTSxDQUFDLEtBQUtIO2dCQUNoQk4sSUFBSVUsTUFBTTtZQUNaO1lBRUEsaUJBQWlCO1lBQ2pCVixJQUFJSSxXQUFXLEdBQUc7WUFDbEJKLElBQUlLLFNBQVMsR0FBRztZQUNoQixJQUFJLElBQUlDLElBQUksR0FBR0EsSUFBSSxJQUFJQSxJQUFLO2dCQUMxQk4sSUFBSU8sU0FBUztnQkFDYlAsSUFBSVEsTUFBTSxDQUFDcEIsS0FBS3VCLE1BQU0sS0FBSyxLQUFLdkIsS0FBS3VCLE1BQU0sS0FBSztnQkFDaEQsSUFBSSxJQUFJQyxJQUFJLEdBQUdBLElBQUksR0FBR0EsSUFBSztvQkFDekJaLElBQUlhLGdCQUFnQixDQUNsQnpCLEtBQUt1QixNQUFNLEtBQUssS0FBS3ZCLEtBQUt1QixNQUFNLEtBQUssS0FDckN2QixLQUFLdUIsTUFBTSxLQUFLLEtBQUt2QixLQUFLdUIsTUFBTSxLQUFLO2dCQUV6QztnQkFDQVgsSUFBSVUsTUFBTTtZQUNaO1FBQ0Y7SUFDRjtJQUVBL0MsT0FBT0MsaUJBQWlCLENBQUMsbUJBQW1CO1FBQzFDQyxNQUFNO1lBQ0osTUFBTWdCLFNBQVMsSUFBSSxDQUFDQyxFQUFFO1lBQ3RCLElBQUlnQyxjQUFjO1lBQ2xCLElBQUlDLGVBQWU7WUFDbkIsSUFBSUMsV0FBVztZQUNmLElBQUlDLFlBQVk7WUFDaEIsTUFBTS9CLFFBQVE7WUFFZCx5QkFBeUI7WUFDekIsTUFBTWdDLGdCQUFnQm5ELFNBQVNDLGFBQWEsQ0FBQztZQUM3Q2tELGNBQWNDLFNBQVMsR0FBRztZQUUxQixNQUFNQyxPQUFPckQsU0FBU0MsYUFBYSxDQUFDO1lBQ3BDb0QsS0FBS0QsU0FBUyxHQUFHO1lBRWpCLHVCQUF1QjtZQUN2QixNQUFNRSxVQUFVO2dCQUNkQyxJQUFJQyxhQUFhO2dCQUNqQkMsT0FBT0QsYUFBYTtnQkFDcEJFLE1BQU1GLGFBQWE7Z0JBQ25CN0MsTUFBTTZDLGFBQWE7WUFDckI7WUFFQSxTQUFTQSxhQUFhSixTQUFTO2dCQUM3QixNQUFNTyxTQUFTM0QsU0FBU0MsYUFBYSxDQUFDO2dCQUN0QzBELE9BQU9QLFNBQVMsR0FBRyxlQUF5QixPQUFWQTtnQkFDbENDLEtBQUtoRCxXQUFXLENBQUNzRDtnQkFDakIsT0FBT0E7WUFDVDtZQUVBLDRCQUE0QjtZQUM1QkwsUUFBUUMsRUFBRSxDQUFDSyxnQkFBZ0IsQ0FBQyxjQUFjLElBQU1iLGNBQWM7WUFDOURPLFFBQVFDLEVBQUUsQ0FBQ0ssZ0JBQWdCLENBQUMsWUFBWSxJQUFNYixjQUFjO1lBRTVETyxRQUFRSSxJQUFJLENBQUNFLGdCQUFnQixDQUFDLGNBQWMsSUFBTVosZUFBZTtZQUNqRU0sUUFBUUksSUFBSSxDQUFDRSxnQkFBZ0IsQ0FBQyxZQUFZLElBQU1aLGVBQWU7WUFFL0RNLFFBQVEzQyxJQUFJLENBQUNpRCxnQkFBZ0IsQ0FBQyxjQUFjLElBQU1YLFdBQVc7WUFDN0RLLFFBQVEzQyxJQUFJLENBQUNpRCxnQkFBZ0IsQ0FBQyxZQUFZLElBQU1YLFdBQVc7WUFFM0RLLFFBQVFHLEtBQUssQ0FBQ0csZ0JBQWdCLENBQUMsY0FBYyxJQUFNVixZQUFZO1lBQy9ESSxRQUFRRyxLQUFLLENBQUNHLGdCQUFnQixDQUFDLFlBQVksSUFBTVYsWUFBWTtZQUU3REMsY0FBYzlDLFdBQVcsQ0FBQ2dEO1lBQzFCckQsU0FBU0ksSUFBSSxDQUFDQyxXQUFXLENBQUM4QztZQUUxQixxQkFBcUI7WUFDckIsSUFBSSxDQUFDVSxJQUFJLEdBQUc7Z0JBQ1YsTUFBTUMsV0FBV2hELE9BQU9pRCxRQUFRLENBQUNELFFBQVE7Z0JBQ3pDLE1BQU1wRCxXQUFXSSxPQUFPaUQsUUFBUSxDQUFDckQsUUFBUTtnQkFFekMsdURBQXVEO2dCQUN2RCxNQUFNc0QsWUFBWSxJQUFJQyxNQUFNQyxPQUFPO2dCQUNuQ3BELE9BQU9pRCxRQUFRLENBQUNJLGlCQUFpQixDQUFDSDtnQkFFbEMsSUFBSWpCLGFBQWE7b0JBQ2ZyQyxTQUFTVSxDQUFDLElBQUk0QyxVQUFVNUMsQ0FBQyxHQUFHRDtvQkFDNUJULFNBQVNlLENBQUMsSUFBSXVDLFVBQVV2QyxDQUFDLEdBQUdOO2dCQUM5QjtnQkFDQSxJQUFJNkIsY0FBYztvQkFDaEJ0QyxTQUFTVSxDQUFDLElBQUk0QyxVQUFVNUMsQ0FBQyxHQUFHRDtvQkFDNUJULFNBQVNlLENBQUMsSUFBSXVDLFVBQVV2QyxDQUFDLEdBQUdOO2dCQUM5QjtnQkFDQSxJQUFJOEIsVUFBVTtvQkFDWnZDLFNBQVNVLENBQUMsSUFBSUMsS0FBS0MsR0FBRyxDQUFDd0MsU0FBU2hDLENBQUMsR0FBR1QsS0FBSytDLEVBQUUsR0FBQyxLQUFLakQ7b0JBQ2pEVCxTQUFTZSxDQUFDLElBQUlKLEtBQUtLLEdBQUcsQ0FBQ29DLFNBQVNoQyxDQUFDLEdBQUdULEtBQUsrQyxFQUFFLEdBQUMsS0FBS2pEO2dCQUNuRDtnQkFDQSxJQUFJK0IsV0FBVztvQkFDYnhDLFNBQVNVLENBQUMsSUFBSUMsS0FBS0MsR0FBRyxDQUFDd0MsU0FBU2hDLENBQUMsR0FBR1QsS0FBSytDLEVBQUUsR0FBQyxLQUFLakQ7b0JBQ2pEVCxTQUFTZSxDQUFDLElBQUlKLEtBQUtLLEdBQUcsQ0FBQ29DLFNBQVNoQyxDQUFDLEdBQUdULEtBQUsrQyxFQUFFLEdBQUMsS0FBS2pEO2dCQUNuRDtZQUNGO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9tcm1ldGF2ZXJzZS9Db2RlL2J1ZmZibGV1L2NvbXBvbmVudHMvYWZyYW1lLWNvbXBvbmVudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gT25seSBydW4gdGhpcyBjb2RlIG9uIHRoZSBjbGllbnQgc2lkZVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbnN0IG5pcHBsZWpzID0gcmVxdWlyZSgnbmlwcGxlanMnKTtcblxuICBBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ21vYmlsZS1jb250cm9scycsIHtcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBNb2JpbGUgam95c3RpY2sgY29udHJvbHNcbiAgICAgIGNvbnN0IGpveXN0aWNrRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGpveXN0aWNrRWwuY2xhc3NMaXN0LmFkZCgnam95c3RpY2snKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoam95c3RpY2tFbCk7XG5cbiAgICAgIGNvbnN0IGpveXN0aWNrID0gbmlwcGxlanMuY3JlYXRlKHtcbiAgICAgICAgem9uZTogam95c3RpY2tFbCxcbiAgICAgICAgbW9kZTogJ3N0YXRpYycsXG4gICAgICAgIHBvc2l0aW9uOiB7IGxlZnQ6ICc1MHB4JywgYm90dG9tOiAnNTBweCcgfSxcbiAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY2FtZXJhID0gdGhpcy5lbDtcbiAgICAgIGpveXN0aWNrLm9uKCdtb3ZlJywgKGV2dCwgZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBzcGVlZCA9IDAuMTtcbiAgICAgICAgY29uc3QgeCA9IE1hdGguY29zKGRhdGEuYW5nbGUucmFkaWFuKSAqIHNwZWVkO1xuICAgICAgICBjb25zdCB6ID0gTWF0aC5zaW4oZGF0YS5hbmdsZS5yYWRpYW4pICogc3BlZWQ7XG4gICAgICAgIGNvbnN0IHBvcyA9IGNhbWVyYS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XG4gICAgICAgIGNhbWVyYS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywge1xuICAgICAgICAgIHg6IHBvcy54ICsgeCxcbiAgICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgICB6OiBwb3MueiArIHosXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3BhcmtpbmctbG90LXRleHR1cmUnLCB7XG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFya2luZ1RleHR1cmUnKTtcbiAgICAgIGlmICghY2FudmFzKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgXG4gICAgICAvLyBTZXQgYmFja2dyb3VuZCB0byB3aGl0ZVxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGRkZGJztcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCA1MTIsIDUxMik7XG4gICAgICBcbiAgICAgIC8vIERyYXcgcGFya2luZyBsaW5lc1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyMzMzMzMzMnO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDQ7XG4gICAgICBcbiAgICAgIC8vIERyYXcgc3RyYWlnaHQgbGluZXNcbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCA1MTI7IGkgKz0gNjQpIHtcbiAgICAgICAgLy8gVmVydGljYWwgbGluZXNcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKGksIDApO1xuICAgICAgICBjdHgubGluZVRvKGksIDUxMik7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEhvcml6b250YWwgbGluZXNcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKDAsIGkpO1xuICAgICAgICBjdHgubGluZVRvKDUxMiwgaSk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRHJhdyBzcXVpZ2dsZXNcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjMjIyMjIyJztcbiAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKE1hdGgucmFuZG9tKCkgKiA1MTIsIE1hdGgucmFuZG9tKCkgKiA1MTIpO1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgNTsgaisrKSB7XG4gICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oXG4gICAgICAgICAgICBNYXRoLnJhbmRvbSgpICogNTEyLCBNYXRoLnJhbmRvbSgpICogNTEyLFxuICAgICAgICAgICAgTWF0aC5yYW5kb20oKSAqIDUxMiwgTWF0aC5yYW5kb20oKSAqIDUxMlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdjdXN0b20tY29udHJvbHMnLCB7XG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY2FtZXJhID0gdGhpcy5lbDtcbiAgICAgIGxldCBtb3ZlRm9yd2FyZCA9IGZhbHNlO1xuICAgICAgbGV0IG1vdmVCYWNrd2FyZCA9IGZhbHNlO1xuICAgICAgbGV0IG1vdmVMZWZ0ID0gZmFsc2U7XG4gICAgICBsZXQgbW92ZVJpZ2h0ID0gZmFsc2U7XG4gICAgICBjb25zdCBzcGVlZCA9IDAuMTU7XG5cbiAgICAgIC8vIENyZWF0ZSBELXBhZCBjb250YWluZXJcbiAgICAgIGNvbnN0IGRwYWRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRwYWRDb250YWluZXIuY2xhc3NOYW1lID0gJ2RwYWQtY29udGFpbmVyJztcbiAgICAgIFxuICAgICAgY29uc3QgZHBhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZHBhZC5jbGFzc05hbWUgPSAnZHBhZCc7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBELXBhZCBidXR0b25zXG4gICAgICBjb25zdCBidXR0b25zID0ge1xuICAgICAgICB1cDogY3JlYXRlQnV0dG9uKCdkcGFkLXVwJyksXG4gICAgICAgIHJpZ2h0OiBjcmVhdGVCdXR0b24oJ2RwYWQtcmlnaHQnKSxcbiAgICAgICAgZG93bjogY3JlYXRlQnV0dG9uKCdkcGFkLWRvd24nKSxcbiAgICAgICAgbGVmdDogY3JlYXRlQnV0dG9uKCdkcGFkLWxlZnQnKVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gY3JlYXRlQnV0dG9uKGNsYXNzTmFtZSkge1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IGBkcGFkLWJ1dHRvbiAke2NsYXNzTmFtZX1gO1xuICAgICAgICBkcGFkLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgIHJldHVybiBidXR0b247XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCB0b3VjaCBldmVudCBsaXN0ZW5lcnNcbiAgICAgIGJ1dHRvbnMudXAuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IG1vdmVGb3J3YXJkID0gdHJ1ZSk7XG4gICAgICBidXR0b25zLnVwLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4gbW92ZUZvcndhcmQgPSBmYWxzZSk7XG4gICAgICBcbiAgICAgIGJ1dHRvbnMuZG93bi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4gbW92ZUJhY2t3YXJkID0gdHJ1ZSk7XG4gICAgICBidXR0b25zLmRvd24uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiBtb3ZlQmFja3dhcmQgPSBmYWxzZSk7XG4gICAgICBcbiAgICAgIGJ1dHRvbnMubGVmdC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4gbW92ZUxlZnQgPSB0cnVlKTtcbiAgICAgIGJ1dHRvbnMubGVmdC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IG1vdmVMZWZ0ID0gZmFsc2UpO1xuICAgICAgXG4gICAgICBidXR0b25zLnJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoKSA9PiBtb3ZlUmlnaHQgPSB0cnVlKTtcbiAgICAgIGJ1dHRvbnMucmlnaHQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiBtb3ZlUmlnaHQgPSBmYWxzZSk7XG5cbiAgICAgIGRwYWRDb250YWluZXIuYXBwZW5kQ2hpbGQoZHBhZCk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRwYWRDb250YWluZXIpO1xuXG4gICAgICAvLyBNb3ZlbWVudCBhbmltYXRpb25cbiAgICAgIHRoaXMudGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IGNhbWVyYS5vYmplY3QzRC5yb3RhdGlvbjtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBjYW1lcmEub2JqZWN0M0QucG9zaXRpb247XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgZm9yd2FyZCBkaXJlY3Rpb24gYmFzZWQgb24gY2FtZXJhIHJvdGF0aW9uXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgICAgIGNhbWVyYS5vYmplY3QzRC5nZXRXb3JsZERpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1vdmVGb3J3YXJkKSB7XG4gICAgICAgICAgcG9zaXRpb24ueCArPSBkaXJlY3Rpb24ueCAqIHNwZWVkO1xuICAgICAgICAgIHBvc2l0aW9uLnogKz0gZGlyZWN0aW9uLnogKiBzcGVlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW92ZUJhY2t3YXJkKSB7XG4gICAgICAgICAgcG9zaXRpb24ueCAtPSBkaXJlY3Rpb24ueCAqIHNwZWVkO1xuICAgICAgICAgIHBvc2l0aW9uLnogLT0gZGlyZWN0aW9uLnogKiBzcGVlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW92ZUxlZnQpIHtcbiAgICAgICAgICBwb3NpdGlvbi54ICs9IE1hdGguY29zKHJvdGF0aW9uLnkgKyBNYXRoLlBJLzIpICogc3BlZWQ7XG4gICAgICAgICAgcG9zaXRpb24ueiArPSBNYXRoLnNpbihyb3RhdGlvbi55ICsgTWF0aC5QSS8yKSAqIHNwZWVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb3ZlUmlnaHQpIHtcbiAgICAgICAgICBwb3NpdGlvbi54ICs9IE1hdGguY29zKHJvdGF0aW9uLnkgLSBNYXRoLlBJLzIpICogc3BlZWQ7XG4gICAgICAgICAgcG9zaXRpb24ueiArPSBNYXRoLnNpbihyb3RhdGlvbi55IC0gTWF0aC5QSS8yKSAqIHNwZWVkO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59ICJdLCJuYW1lcyI6WyJuaXBwbGVqcyIsInJlcXVpcmUiLCJBRlJBTUUiLCJyZWdpc3RlckNvbXBvbmVudCIsImluaXQiLCJqb3lzdGlja0VsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiam95c3RpY2siLCJjcmVhdGUiLCJ6b25lIiwibW9kZSIsInBvc2l0aW9uIiwibGVmdCIsImJvdHRvbSIsImNvbG9yIiwiY2FtZXJhIiwiZWwiLCJvbiIsImV2dCIsImRhdGEiLCJzcGVlZCIsIngiLCJNYXRoIiwiY29zIiwiYW5nbGUiLCJyYWRpYW4iLCJ6Iiwic2luIiwicG9zIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwieSIsImNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJpIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwicmFuZG9tIiwiaiIsInF1YWRyYXRpY0N1cnZlVG8iLCJtb3ZlRm9yd2FyZCIsIm1vdmVCYWNrd2FyZCIsIm1vdmVMZWZ0IiwibW92ZVJpZ2h0IiwiZHBhZENvbnRhaW5lciIsImNsYXNzTmFtZSIsImRwYWQiLCJidXR0b25zIiwidXAiLCJjcmVhdGVCdXR0b24iLCJyaWdodCIsImRvd24iLCJidXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwidGljayIsInJvdGF0aW9uIiwib2JqZWN0M0QiLCJkaXJlY3Rpb24iLCJUSFJFRSIsIlZlY3RvcjMiLCJnZXRXb3JsZERpcmVjdGlvbiIsIlBJIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/aframe-components.js\n"));

/***/ }),

/***/ "./node_modules/nipplejs/dist/nipplejs.js":
/*!************************************************!*\
  !*** ./node_modules/nipplejs/dist/nipplejs.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("!function(t,i){ true?module.exports=i():0}(window,function(){return function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var n in t)e.d(o,n,function(i){return t[i]}.bind(null,n));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p=\"\",e(e.s=0)}([function(t,i,e){\"use strict\";e.r(i);var o,n=function(t,i){var e=i.x-t.x,o=i.y-t.y;return Math.sqrt(e*e+o*o)},s=function(t){return t*(Math.PI/180)},r=function(t){return t*(180/Math.PI)},d=new Map,a=function(t){d.has(t)&&clearTimeout(d.get(t)),d.set(t,setTimeout(t,100))},p=function(t,i,e){for(var o,n=i.split(/[ ,]+/g),s=0;s<n.length;s+=1)o=n[s],t.addEventListener?t.addEventListener(o,e,!1):t.attachEvent&&t.attachEvent(o,e)},c=function(t,i,e){for(var o,n=i.split(/[ ,]+/g),s=0;s<n.length;s+=1)o=n[s],t.removeEventListener?t.removeEventListener(o,e):t.detachEvent&&t.detachEvent(o,e)},l=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},h=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},u=function(t,i){i.top||i.right||i.bottom||i.left?(t.style.top=i.top,t.style.right=i.right,t.style.bottom=i.bottom,t.style.left=i.left):(t.style.left=i.x+\"px\",t.style.top=i.y+\"px\")},f=function(t,i,e){var o=y(t);for(var n in o)if(o.hasOwnProperty(n))if(\"string\"==typeof i)o[n]=i+\" \"+e;else{for(var s=\"\",r=0,d=i.length;r<d;r+=1)s+=i[r]+\" \"+e+\", \";o[n]=s.slice(0,-2)}return o},y=function(t){var i={};i[t]=\"\";return[\"webkit\",\"Moz\",\"o\"].forEach(function(e){i[e+t.charAt(0).toUpperCase()+t.slice(1)]=\"\"}),i},m=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},v=function(t,i){if(t.length)for(var e=0,o=t.length;e<o;e+=1)i(t[e]);else i(t)},g=!!(\"ontouchstart\"in window),b=!!window.PointerEvent,x=!!window.MSPointerEvent,O={start:\"mousedown\",move:\"mousemove\",end:\"mouseup\"},w={};function _(){}b?o={start:\"pointerdown\",move:\"pointermove\",end:\"pointerup, pointercancel\"}:x?o={start:\"MSPointerDown\",move:\"MSPointerMove\",end:\"MSPointerUp\"}:g?(o={start:\"touchstart\",move:\"touchmove\",end:\"touchend, touchcancel\"},w=O):o=O,_.prototype.on=function(t,i){var e,o=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var n=0;n<o.length;n+=1)e=o[n],this._handlers_[e]=this._handlers_[e]||[],this._handlers_[e].push(i);return this},_.prototype.off=function(t,i){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===i?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(i)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(i),1),this},_.prototype.trigger=function(t,i){var e,o=this,n=t.split(/[ ,]+/g);o._handlers_=o._handlers_||{};for(var s=0;s<n.length;s+=1)e=n[s],o._handlers_[e]&&o._handlers_[e].length&&o._handlers_[e].forEach(function(t){t.call(o,{type:e,target:o},i)})},_.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,i){var e={};for(var o in t)t.hasOwnProperty(o)&&i.hasOwnProperty(o)?e[o]=i[o]:t.hasOwnProperty(o)&&(e[o]=t[o]);return e}(this.options,t))},_.prototype.bindEvt=function(t,i){var e=this;return e._domHandlers_=e._domHandlers_||{},e._domHandlers_[i]=function(){\"function\"==typeof e[\"on\"+i]?e[\"on\"+i].apply(e,arguments):console.warn('[WARNING] : Missing \"on'+i+'\" handler.')},p(t,o[i],e._domHandlers_[i]),w[i]&&p(t,w[i],e._domHandlers_[i]),e},_.prototype.unbindEvt=function(t,i){return this._domHandlers_=this._domHandlers_||{},c(t,o[i],this._domHandlers_[i]),w[i]&&c(t,w[i],this._domHandlers_[i]),delete this._domHandlers_[i],this};var T=_;function k(t,i){return this.identifier=i.identifier,this.position=i.position,this.frontPosition=i.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:\"white\",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:\"dynamic\",zone:document.body,lockX:!1,lockY:!1,shape:\"circle\"},this.config(i),\"dynamic\"===this.options.mode&&(this.options.restOpacity=0),this.id=k.id,k.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}k.prototype=new T,k.constructor=k,k.id=0,k.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement(\"div\"),this.ui.back=document.createElement(\"div\"),this.ui.front=document.createElement(\"div\"),this.ui.el.className=\"nipple collection_\"+this.collection.id,this.ui.back.className=\"back\",this.ui.front.className=\"front\",this.ui.el.setAttribute(\"id\",\"nipple_\"+this.collection.id+\"_\"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},k.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+\"ms\",i=function(t,i){var e=y(t);for(var o in e)e.hasOwnProperty(o)&&(e[o]=i);return e}(\"borderRadius\",\"50%\"),e=f(\"transition\",\"opacity\",t),o={};return o.el={position:\"absolute\",opacity:this.options.restOpacity,display:\"block\",zIndex:999},o.back={position:\"absolute\",display:\"block\",width:this.options.size+\"px\",height:this.options.size+\"px\",left:0,marginLeft:-this.options.size/2+\"px\",marginTop:-this.options.size/2+\"px\",background:this.options.color,opacity:\".5\"},o.front={width:this.options.size/2+\"px\",height:this.options.size/2+\"px\",position:\"absolute\",display:\"block\",left:0,marginLeft:-this.options.size/4+\"px\",marginTop:-this.options.size/4+\"px\",background:this.options.color,opacity:\".5\",transform:\"translate(0px, 0px)\"},m(o.el,e),\"circle\"===this.options.shape&&m(o.back,i),m(o.front,i),this.applyStyles(o),this},k.prototype.applyStyles=function(t){for(var i in this.ui)if(this.ui.hasOwnProperty(i))for(var e in t[i])this.ui[i].style[e]=t[i][e];return this},k.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},k.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},k.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger(\"destroyed\",this.instance),this.removeFromDom(),this.off()},k.prototype.show=function(t){var i=this;return i.options.dataOnly?i:(clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.addToDom(),i.restCallback(),setTimeout(function(){i.ui.el.style.opacity=1},0),i.showTimeout=setTimeout(function(){i.trigger(\"shown\",i.instance),\"function\"==typeof t&&t.call(this)},i.options.fadeTime),i)},k.prototype.hide=function(t){var i=this;if(i.options.dataOnly)return i;if(i.ui.el.style.opacity=i.options.restOpacity,clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.removeTimeout=setTimeout(function(){var e=\"dynamic\"===i.options.mode?\"none\":\"block\";i.ui.el.style.display=e,\"function\"==typeof t&&t.call(i),i.trigger(\"hidden\",i.instance)},i.options.fadeTime),i.options.restJoystick){var e=i.options.restJoystick,o={};o.x=!0===e||!1!==e.x?0:i.instance.frontPosition.x,o.y=!0===e||!1!==e.y?0:i.instance.frontPosition.y,i.setPosition(t,o)}return i},k.prototype.setPosition=function(t,i){var e=this;e.frontPosition={x:i.x,y:i.y};var o=e.options.fadeTime+\"ms\",n={};n.front=f(\"transition\",[\"transform\"],o);var s={front:{}};s.front={transform:\"translate(\"+e.frontPosition.x+\"px,\"+e.frontPosition.y+\"px)\"},e.applyStyles(n),e.applyStyles(s),e.restTimeout=setTimeout(function(){\"function\"==typeof t&&t.call(e),e.restCallback()},e.options.fadeTime)},k.prototype.restCallback=function(){var t={};t.front=f(\"transition\",\"none\",\"\"),this.applyStyles(t),this.trigger(\"rested\",this.instance)},k.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},k.prototype.computeDirection=function(t){var i,e,o,n=t.angle.radian,s=Math.PI/4,r=Math.PI/2;if(n>s&&n<3*s&&!t.lockX?i=\"up\":n>-s&&n<=s&&!t.lockY?i=\"left\":n>3*-s&&n<=-s&&!t.lockX?i=\"down\":t.lockY||(i=\"right\"),t.lockY||(e=n>-r&&n<r?\"left\":\"right\"),t.lockX||(o=n>0?\"up\":\"down\"),t.force>this.options.threshold){var d,a={};for(d in this.direction)this.direction.hasOwnProperty(d)&&(a[d]=this.direction[d]);var p={};for(d in this.direction={x:e,y:o,angle:i},t.direction=this.direction,a)a[d]===this.direction[d]&&(p[d]=!0);if(p.x&&p.y&&p.angle)return t;p.x&&p.y||this.trigger(\"plain\",t),p.x||this.trigger(\"plain:\"+e,t),p.y||this.trigger(\"plain:\"+o,t),p.angle||this.trigger(\"dir dir:\"+i,t)}else this.resetDirection();return t};var P=k;function E(t,i){this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=E.id,E.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:\"dynamic\",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:\"white\",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:\"circle\",dynamicPage:!1,follow:!1},this.config(i),\"static\"!==this.options.mode&&\"semi\"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1);var e=getComputedStyle(this.options.zone.parentElement);return e&&\"flex\"===e.display&&(this.parentIsFlex=!0),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}E.prototype=new T,E.constructor=E,E.id=0,E.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(i){if(void 0===i)return t[0];for(var e=0,o=t.length;e<o;e+=1)if(t[e].identifier===i)return t[e];return!1}},E.prototype.bindings=function(){this.bindEvt(this.options.zone,\"start\"),this.options.zone.style.touchAction=\"none\",this.options.zone.style.msTouchAction=\"none\"},E.prototype.begin=function(){var t=this.options;if(\"static\"===t.mode){var i=this.createNipple(t.position,this.manager.getIdentifier());i.add(),this.idles.push(i)}},E.prototype.createNipple=function(t,i){var e=this.manager.scroll,o={},n=this.options,s=this.parentIsFlex?e.x:e.x+this.box.left,r=this.parentIsFlex?e.y:e.y+this.box.top;if(t.x&&t.y)o={x:t.x-s,y:t.y-r};else if(t.top||t.right||t.bottom||t.left){var d=document.createElement(\"DIV\");d.style.display=\"hidden\",d.style.top=t.top,d.style.right=t.right,d.style.bottom=t.bottom,d.style.left=t.left,d.style.position=\"absolute\",n.zone.appendChild(d);var a=d.getBoundingClientRect();n.zone.removeChild(d),o=t,t={x:a.left+e.x,y:a.top+e.y}}var p=new P(this,{color:n.color,size:n.size,threshold:n.threshold,fadeTime:n.fadeTime,dataOnly:n.dataOnly,restJoystick:n.restJoystick,restOpacity:n.restOpacity,mode:n.mode,identifier:i,position:t,zone:n.zone,frontPosition:{x:0,y:0},shape:n.shape});return n.dataOnly||(u(p.ui.el,o),u(p.ui.front,p.frontPosition)),this.nipples.push(p),this.trigger(\"added \"+p.identifier+\":added\",p),this.manager.trigger(\"added \"+p.identifier+\":added\",p),this.bindNipple(p),p},E.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},E.prototype.bindNipple=function(t){var i,e=this,o=function(t,o){i=t.type+\" \"+o.id+\":\"+t.type,e.trigger(i,o)};t.on(\"destroyed\",e.onDestroyed.bind(e)),t.on(\"shown hidden rested dir plain\",o),t.on(\"dir:up dir:right dir:down dir:left\",o),t.on(\"plain:up plain:right plain:down plain:left\",o)},E.prototype.pressureFn=function(t,i,e){var o=this,n=0;clearInterval(o.pressureIntervals[e]),o.pressureIntervals[e]=setInterval(function(){var e=t.force||t.pressure||t.webkitForce||0;e!==n&&(i.trigger(\"pressure\",e),o.trigger(\"pressure \"+i.identifier+\":pressure\",e),n=e)}.bind(o),100)},E.prototype.onstart=function(t){var i=this,e=i.options,o=t;t=l(t),i.updateBox();return v(t,function(n){i.actives.length<e.maxNumberOfNipples?i.processOnStart(n):o.type.match(/^touch/)&&(Object.keys(i.manager.ids).forEach(function(e){if(Object.values(o.touches).findIndex(function(t){return t.identifier===e})<0){var n=[t[0]];n.identifier=e,i.processOnEnd(n)}}),i.actives.length<e.maxNumberOfNipples&&i.processOnStart(n))}),i.manager.bindDocument(),!1},E.prototype.processOnStart=function(t){var i,e=this,o=e.options,s=e.manager.getIdentifier(t),r=t.force||t.pressure||t.webkitForce||0,d={x:t.pageX,y:t.pageY},a=e.getOrCreate(s,d);a.identifier!==s&&e.manager.removeIdentifier(a.identifier),a.identifier=s;var p=function(i){i.trigger(\"start\",i),e.trigger(\"start \"+i.id+\":start\",i),i.show(),r>0&&e.pressureFn(t,i,i.identifier),e.processOnMove(t)};if((i=e.idles.indexOf(a))>=0&&e.idles.splice(i,1),e.actives.push(a),e.ids.push(a.identifier),\"semi\"!==o.mode)p(a);else{if(!(n(d,a.position)<=o.catchDistance))return a.destroy(),void e.processOnStart(t);p(a)}return a},E.prototype.getOrCreate=function(t,i){var e,o=this.options;return/(semi|static)/.test(o.mode)?(e=this.idles[0])?(this.idles.splice(0,1),e):\"semi\"===o.mode?this.createNipple(i,t):(console.warn(\"Coudln't find the needed nipple.\"),!1):e=this.createNipple(i,t)},E.prototype.processOnMove=function(t){var i=this.options,e=this.manager.getIdentifier(t),o=this.nipples.get(e),d=this.manager.scroll;if(function(t){return isNaN(t.buttons)?0!==t.pressure:0!==t.buttons}(t)){if(!o)return console.error(\"Found zombie joystick with ID \"+e),void this.manager.removeIdentifier(e);if(i.dynamicPage){var a=o.el.getBoundingClientRect();o.position={x:d.x+a.left,y:d.y+a.top}}o.identifier=e;var p=o.options.size/2,c={x:t.pageX,y:t.pageY};i.lockX&&(c.y=o.position.y),i.lockY&&(c.x=o.position.x);var l,h,u,f,y,m,v,g,b,x,O=n(c,o.position),w=(l=c,h=o.position,u=h.x-l.x,f=h.y-l.y,r(Math.atan2(f,u))),_=s(w),T=O/p,k={distance:O,position:c};if(\"circle\"===o.options.shape?(y=Math.min(O,p),v=o.position,g=y,x={x:0,y:0},b=s(b=w),x.x=v.x-g*Math.cos(b),x.y=v.y-g*Math.sin(b),m=x):(m=function(t,i,e){return{x:Math.min(Math.max(t.x,i.x-e),i.x+e),y:Math.min(Math.max(t.y,i.y-e),i.y+e)}}(c,o.position,p),y=n(m,o.position)),i.follow){if(O>p){var P=c.x-m.x,E=c.y-m.y;o.position.x+=P,o.position.y+=E,o.el.style.top=o.position.y-(this.box.top+d.y)+\"px\",o.el.style.left=o.position.x-(this.box.left+d.x)+\"px\",O=n(c,o.position)}}else c=m,O=y;var I=c.x-o.position.x,z=c.y-o.position.y;o.frontPosition={x:I,y:z},i.dataOnly||(o.ui.front.style.transform=\"translate(\"+I+\"px,\"+z+\"px)\");var D={identifier:o.identifier,position:c,force:T,pressure:t.force||t.pressure||t.webkitForce||0,distance:O,angle:{radian:_,degree:w},vector:{x:I/p,y:-z/p},raw:k,instance:o,lockX:i.lockX,lockY:i.lockY};(D=o.computeDirection(D)).angle={radian:s(180-w),degree:180-w},o.trigger(\"move\",D),this.trigger(\"move \"+o.id+\":move\",D)}else this.processOnEnd(t)},E.prototype.processOnEnd=function(t){var i=this,e=i.options,o=i.manager.getIdentifier(t),n=i.nipples.get(o),s=i.manager.removeIdentifier(n.identifier);n&&(e.dataOnly||n.hide(function(){\"dynamic\"===e.mode&&(n.trigger(\"removed\",n),i.trigger(\"removed \"+n.id+\":removed\",n),i.manager.trigger(\"removed \"+n.id+\":removed\",n),n.destroy())}),clearInterval(i.pressureIntervals[n.identifier]),n.resetDirection(),n.trigger(\"end\",n),i.trigger(\"end \"+n.id+\":end\",n),i.ids.indexOf(n.identifier)>=0&&i.ids.splice(i.ids.indexOf(n.identifier),1),i.actives.indexOf(n)>=0&&i.actives.splice(i.actives.indexOf(n),1),/(semi|static)/.test(e.mode)?i.idles.push(n):i.nipples.indexOf(n)>=0&&i.nipples.splice(i.nipples.indexOf(n),1),i.manager.unbindDocument(),/(semi|static)/.test(e.mode)&&(i.manager.ids[s.id]=s.identifier))},E.prototype.onDestroyed=function(t,i){this.nipples.indexOf(i)>=0&&this.nipples.splice(this.nipples.indexOf(i),1),this.actives.indexOf(i)>=0&&this.actives.splice(this.actives.indexOf(i),1),this.idles.indexOf(i)>=0&&this.idles.splice(this.idles.indexOf(i),1),this.ids.indexOf(i.identifier)>=0&&this.ids.splice(this.ids.indexOf(i.identifier),1),this.manager.removeIdentifier(i.identifier),this.manager.unbindDocument()},E.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,\"start\"),this.nipples.forEach(function(t){t.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger(\"destroyed\",this.nipples),this.manager.unbindDocument(),this.off()};var I=E;function z(t){var i=this;i.ids={},i.index=0,i.collections=[],i.scroll=h(),i.config(t),i.prepareCollections();var e=function(){var t;i.collections.forEach(function(e){e.forEach(function(e){t=e.el.getBoundingClientRect(),e.position={x:i.scroll.x+t.left,y:i.scroll.y+t.top}})})};p(window,\"resize\",function(){a(e)});var o=function(){i.scroll=h()};return p(window,\"scroll\",function(){a(o)}),i.collections}z.prototype=new T,z.constructor=z,z.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(i){var e;return t.collections.every(function(t){return!(e=t.get(i))}),e}},z.prototype.create=function(t){return this.createCollection(t)},z.prototype.createCollection=function(t){var i=new I(this,t);return this.bindCollection(i),this.collections.push(i),i},z.prototype.bindCollection=function(t){var i,e=this,o=function(t,o){i=t.type+\" \"+o.id+\":\"+t.type,e.trigger(i,o)};t.on(\"destroyed\",e.onDestroyed.bind(e)),t.on(\"shown hidden rested dir plain\",o),t.on(\"dir:up dir:right dir:down dir:left\",o),t.on(\"plain:up plain:right plain:down plain:left\",o)},z.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,\"move\").bindEvt(document,\"end\"),this.binded=!0)},z.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,\"move\").unbindEvt(document,\"end\"),this.binded=!1)},z.prototype.getIdentifier=function(t){var i;return t?void 0===(i=void 0===t.identifier?t.pointerId:t.identifier)&&(i=this.latest||0):i=this.index,void 0===this.ids[i]&&(this.ids[i]=this.index,this.index+=1),this.latest=i,this.ids[i]},z.prototype.removeIdentifier=function(t){var i={};for(var e in this.ids)if(this.ids[e]===t){i.id=e,i.identifier=this.ids[e],delete this.ids[e];break}return i},z.prototype.onmove=function(t){return this.onAny(\"move\",t),!1},z.prototype.onend=function(t){return this.onAny(\"end\",t),!1},z.prototype.oncancel=function(t){return this.onAny(\"end\",t),!1},z.prototype.onAny=function(t,i){var e,o=this,n=\"processOn\"+t.charAt(0).toUpperCase()+t.slice(1);i=l(i);return v(i,function(t){e=o.getIdentifier(t),v(o.collections,function(t,i,e){e.ids.indexOf(i)>=0&&(e[n](t),t._found_=!0)}.bind(null,t,e)),t._found_||o.removeIdentifier(e)}),!1},z.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(t){t.destroy()}),this.off()},z.prototype.onDestroyed=function(t,i){if(this.collections.indexOf(i)<0)return!1;this.collections.splice(this.collections.indexOf(i),1)};var D=new z;i.default={create:function(t){return D.create(t)},factory:D}}]).default});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmlwcGxlanMvZGlzdC9uaXBwbGVqcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxlQUFlLEtBQWlELG9CQUFvQixDQUEwSCxDQUFDLG1CQUFtQixtQkFBbUIsU0FBUyxjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELGlCQUFpQixrQkFBa0IsYUFBYSxPQUFPLHNCQUFzQix3QkFBd0IsMEJBQTBCLGVBQWUsdUJBQXVCLGVBQWUsdUJBQXVCLHlCQUF5Qiw0REFBNEQsbUJBQW1CLGtDQUFrQyxXQUFXLDRGQUE0RixtQkFBbUIsa0NBQWtDLFdBQVcsK0ZBQStGLGVBQWUsb0VBQW9FLGNBQWMsT0FBTyxnUUFBZ1EsaUJBQWlCLG9LQUFvSyxtQkFBbUIsV0FBVyx5RUFBeUUsS0FBSyw0QkFBNEIsSUFBSSx3QkFBd0IsbUJBQW1CLFNBQVMsZUFBZSxTQUFTLFFBQVEsK0NBQStDLDZDQUE2QyxJQUFJLGlCQUFpQixnREFBZ0QsU0FBUyxpQkFBaUIsbUNBQW1DLElBQUksYUFBYSxVQUFVLG9GQUFvRixpREFBaUQsTUFBTSxjQUFjLEtBQUssc0VBQXNFLE1BQU0sNkRBQTZELE9BQU8sZ0VBQWdFLHVDQUF1QywwQkFBMEIsb0NBQW9DLFlBQVksV0FBVyxpRkFBaUYsWUFBWSwrQkFBK0IsMENBQTBDLDhCQUE4QiwwSkFBMEosbUNBQW1DLGlDQUFpQyw4QkFBOEIsWUFBWSxXQUFXLHlGQUF5RixVQUFVLGdCQUFnQixJQUFJLEVBQUUsZ0NBQWdDLDhCQUE4QixnQ0FBZ0MsU0FBUyxtR0FBbUcsU0FBUyxrQkFBa0IsbUNBQW1DLFdBQVcs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a0NBQWtDLDhCQUE4QixpQ0FBaUMsZ0VBQWdFLE9BQU8sdUJBQXVCLHFEQUFxRCw0Q0FBNEMsa0RBQWtELEtBQUssZ0NBQWdDLG1DQUFtQyxtREFBbUQsWUFBWSxhQUFhLHVDQUF1QywwQ0FBMEMsd0RBQXdELFlBQVksV0FBVyxtQkFBbUIsbUJBQW1CLFlBQVksV0FBVyIsInNvdXJjZXMiOlsiL2hvbWUvbXJtZXRhdmVyc2UvQ29kZS9idWZmYmxldS9ub2RlX21vZHVsZXMvbmlwcGxlanMvZGlzdC9uaXBwbGVqcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxpKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1pKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcIm5pcHBsZWpzXCIsW10saSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5uaXBwbGVqcz1pKCk6dC5uaXBwbGVqcz1pKCl9KHdpbmRvdyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgaT17fTtmdW5jdGlvbiBlKG8pe2lmKGlbb10pcmV0dXJuIGlbb10uZXhwb3J0czt2YXIgbj1pW29dPXtpOm8sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtvXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxlKSxuLmw9ITAsbi5leHBvcnRzfXJldHVybiBlLm09dCxlLmM9aSxlLmQ9ZnVuY3Rpb24odCxpLG8pe2Uubyh0LGkpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLHtlbnVtZXJhYmxlOiEwLGdldDpvfSl9LGUucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxlLnQ9ZnVuY3Rpb24odCxpKXtpZigxJmkmJih0PWUodCkpLDgmaSlyZXR1cm4gdDtpZig0JmkmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIG89T2JqZWN0LmNyZWF0ZShudWxsKTtpZihlLnIobyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImaSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBuIGluIHQpZS5kKG8sbixmdW5jdGlvbihpKXtyZXR1cm4gdFtpXX0uYmluZChudWxsLG4pKTtyZXR1cm4gb30sZS5uPWZ1bmN0aW9uKHQpe3ZhciBpPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBlLmQoaSxcImFcIixpKSxpfSxlLm89ZnVuY3Rpb24odCxpKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSl9LGUucD1cIlwiLGUoZS5zPTApfShbZnVuY3Rpb24odCxpLGUpe1widXNlIHN0cmljdFwiO2UucihpKTt2YXIgbyxuPWZ1bmN0aW9uKHQsaSl7dmFyIGU9aS54LXQueCxvPWkueS10Lnk7cmV0dXJuIE1hdGguc3FydChlKmUrbypvKX0scz1mdW5jdGlvbih0KXtyZXR1cm4gdCooTWF0aC5QSS8xODApfSxyPWZ1bmN0aW9uKHQpe3JldHVybiB0KigxODAvTWF0aC5QSSl9LGQ9bmV3IE1hcCxhPWZ1bmN0aW9uKHQpe2QuaGFzKHQpJiZjbGVhclRpbWVvdXQoZC5nZXQodCkpLGQuc2V0KHQsc2V0VGltZW91dCh0LDEwMCkpfSxwPWZ1bmN0aW9uKHQsaSxlKXtmb3IodmFyIG8sbj1pLnNwbGl0KC9bICxdKy9nKSxzPTA7czxuLmxlbmd0aDtzKz0xKW89bltzXSx0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKG8sZSwhMSk6dC5hdHRhY2hFdmVudCYmdC5hdHRhY2hFdmVudChvLGUpfSxjPWZ1bmN0aW9uKHQsaSxlKXtmb3IodmFyIG8sbj1pLnNwbGl0KC9bICxdKy9nKSxzPTA7czxuLmxlbmd0aDtzKz0xKW89bltzXSx0LnJlbW92ZUV2ZW50TGlzdGVuZXI/dC5yZW1vdmVFdmVudExpc3RlbmVyKG8sZSk6dC5kZXRhY2hFdmVudCYmdC5kZXRhY2hFdmVudChvLGUpfSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksdC50eXBlLm1hdGNoKC9edG91Y2gvKT90LmNoYW5nZWRUb3VjaGVzOnR9LGg9ZnVuY3Rpb24oKXtyZXR1cm57eDp2b2lkIDAhPT13aW5kb3cucGFnZVhPZmZzZXQ/d2luZG93LnBhZ2VYT2Zmc2V0Oihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZXx8ZG9jdW1lbnQuYm9keSkuc2Nyb2xsTGVmdCx5OnZvaWQgMCE9PXdpbmRvdy5wYWdlWU9mZnNldD93aW5kb3cucGFnZVlPZmZzZXQ6KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlfHxkb2N1bWVudC5ib2R5KS5zY3JvbGxUb3B9fSx1PWZ1bmN0aW9uKHQsaSl7aS50b3B8fGkucmlnaHR8fGkuYm90dG9tfHxpLmxlZnQ/KHQuc3R5bGUudG9wPWkudG9wLHQuc3R5bGUucmlnaHQ9aS5yaWdodCx0LnN0eWxlLmJvdHRvbT1pLmJvdHRvbSx0LnN0eWxlLmxlZnQ9aS5sZWZ0KToodC5zdHlsZS5sZWZ0PWkueCtcInB4XCIsdC5zdHlsZS50b3A9aS55K1wicHhcIil9LGY9ZnVuY3Rpb24odCxpLGUpe3ZhciBvPXkodCk7Zm9yKHZhciBuIGluIG8paWYoby5oYXNPd25Qcm9wZXJ0eShuKSlpZihcInN0cmluZ1wiPT10eXBlb2YgaSlvW25dPWkrXCIgXCIrZTtlbHNle2Zvcih2YXIgcz1cIlwiLHI9MCxkPWkubGVuZ3RoO3I8ZDtyKz0xKXMrPWlbcl0rXCIgXCIrZStcIiwgXCI7b1tuXT1zLnNsaWNlKDAsLTIpfXJldHVybiBvfSx5PWZ1bmN0aW9uKHQpe3ZhciBpPXt9O2lbdF09XCJcIjtyZXR1cm5bXCJ3ZWJraXRcIixcIk1velwiLFwib1wiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lbZSt0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldPVwiXCJ9KSxpfSxtPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShlKSYmKHRbZV09aVtlXSk7cmV0dXJuIHR9LHY9ZnVuY3Rpb24odCxpKXtpZih0Lmxlbmd0aClmb3IodmFyIGU9MCxvPXQubGVuZ3RoO2U8bztlKz0xKWkodFtlXSk7ZWxzZSBpKHQpfSxnPSEhKFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3cpLGI9ISF3aW5kb3cuUG9pbnRlckV2ZW50LHg9ISF3aW5kb3cuTVNQb2ludGVyRXZlbnQsTz17c3RhcnQ6XCJtb3VzZWRvd25cIixtb3ZlOlwibW91c2Vtb3ZlXCIsZW5kOlwibW91c2V1cFwifSx3PXt9O2Z1bmN0aW9uIF8oKXt9Yj9vPXtzdGFydDpcInBvaW50ZXJkb3duXCIsbW92ZTpcInBvaW50ZXJtb3ZlXCIsZW5kOlwicG9pbnRlcnVwLCBwb2ludGVyY2FuY2VsXCJ9Ong/bz17c3RhcnQ6XCJNU1BvaW50ZXJEb3duXCIsbW92ZTpcIk1TUG9pbnRlck1vdmVcIixlbmQ6XCJNU1BvaW50ZXJVcFwifTpnPyhvPXtzdGFydDpcInRvdWNoc3RhcnRcIixtb3ZlOlwidG91Y2htb3ZlXCIsZW5kOlwidG91Y2hlbmQsIHRvdWNoY2FuY2VsXCJ9LHc9Tyk6bz1PLF8ucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsaSl7dmFyIGUsbz10LnNwbGl0KC9bICxdKy9nKTt0aGlzLl9oYW5kbGVyc189dGhpcy5faGFuZGxlcnNffHx7fTtmb3IodmFyIG49MDtuPG8ubGVuZ3RoO24rPTEpZT1vW25dLHRoaXMuX2hhbmRsZXJzX1tlXT10aGlzLl9oYW5kbGVyc19bZV18fFtdLHRoaXMuX2hhbmRsZXJzX1tlXS5wdXNoKGkpO3JldHVybiB0aGlzfSxfLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5faGFuZGxlcnNfPXRoaXMuX2hhbmRsZXJzX3x8e30sdm9pZCAwPT09dD90aGlzLl9oYW5kbGVyc189e306dm9pZCAwPT09aT90aGlzLl9oYW5kbGVyc19bdF09bnVsbDp0aGlzLl9oYW5kbGVyc19bdF0mJnRoaXMuX2hhbmRsZXJzX1t0XS5pbmRleE9mKGkpPj0wJiZ0aGlzLl9oYW5kbGVyc19bdF0uc3BsaWNlKHRoaXMuX2hhbmRsZXJzX1t0XS5pbmRleE9mKGkpLDEpLHRoaXN9LF8ucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCxpKXt2YXIgZSxvPXRoaXMsbj10LnNwbGl0KC9bICxdKy9nKTtvLl9oYW5kbGVyc189by5faGFuZGxlcnNffHx7fTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrPTEpZT1uW3NdLG8uX2hhbmRsZXJzX1tlXSYmby5faGFuZGxlcnNfW2VdLmxlbmd0aCYmby5faGFuZGxlcnNfW2VdLmZvckVhY2goZnVuY3Rpb24odCl7dC5jYWxsKG8se3R5cGU6ZSx0YXJnZXQ6b30saSl9KX0sXy5wcm90b3R5cGUuY29uZmlnPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10aGlzLmRlZmF1bHRzfHx7fSx0JiYodGhpcy5vcHRpb25zPWZ1bmN0aW9uKHQsaSl7dmFyIGU9e307Zm9yKHZhciBvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmaS5oYXNPd25Qcm9wZXJ0eShvKT9lW29dPWlbb106dC5oYXNPd25Qcm9wZXJ0eShvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KHRoaXMub3B0aW9ucyx0KSl9LF8ucHJvdG90eXBlLmJpbmRFdnQ9ZnVuY3Rpb24odCxpKXt2YXIgZT10aGlzO3JldHVybiBlLl9kb21IYW5kbGVyc189ZS5fZG9tSGFuZGxlcnNffHx7fSxlLl9kb21IYW5kbGVyc19baV09ZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW1wib25cIitpXT9lW1wib25cIitpXS5hcHBseShlLGFyZ3VtZW50cyk6Y29uc29sZS53YXJuKCdbV0FSTklOR10gOiBNaXNzaW5nIFwib24nK2krJ1wiIGhhbmRsZXIuJyl9LHAodCxvW2ldLGUuX2RvbUhhbmRsZXJzX1tpXSksd1tpXSYmcCh0LHdbaV0sZS5fZG9tSGFuZGxlcnNfW2ldKSxlfSxfLnByb3RvdHlwZS51bmJpbmRFdnQ9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5fZG9tSGFuZGxlcnNfPXRoaXMuX2RvbUhhbmRsZXJzX3x8e30sYyh0LG9baV0sdGhpcy5fZG9tSGFuZGxlcnNfW2ldKSx3W2ldJiZjKHQsd1tpXSx0aGlzLl9kb21IYW5kbGVyc19baV0pLGRlbGV0ZSB0aGlzLl9kb21IYW5kbGVyc19baV0sdGhpc307dmFyIFQ9XztmdW5jdGlvbiBrKHQsaSl7cmV0dXJuIHRoaXMuaWRlbnRpZmllcj1pLmlkZW50aWZpZXIsdGhpcy5wb3NpdGlvbj1pLnBvc2l0aW9uLHRoaXMuZnJvbnRQb3NpdGlvbj1pLmZyb250UG9zaXRpb24sdGhpcy5jb2xsZWN0aW9uPXQsdGhpcy5kZWZhdWx0cz17c2l6ZToxMDAsdGhyZXNob2xkOi4xLGNvbG9yOlwid2hpdGVcIixmYWRlVGltZToyNTAsZGF0YU9ubHk6ITEscmVzdEpveXN0aWNrOiEwLHJlc3RPcGFjaXR5Oi41LG1vZGU6XCJkeW5hbWljXCIsem9uZTpkb2N1bWVudC5ib2R5LGxvY2tYOiExLGxvY2tZOiExLHNoYXBlOlwiY2lyY2xlXCJ9LHRoaXMuY29uZmlnKGkpLFwiZHluYW1pY1wiPT09dGhpcy5vcHRpb25zLm1vZGUmJih0aGlzLm9wdGlvbnMucmVzdE9wYWNpdHk9MCksdGhpcy5pZD1rLmlkLGsuaWQrPTEsdGhpcy5idWlsZEVsKCkuc3R5bGl6ZSgpLHRoaXMuaW5zdGFuY2U9e2VsOnRoaXMudWkuZWwsb246dGhpcy5vbi5iaW5kKHRoaXMpLG9mZjp0aGlzLm9mZi5iaW5kKHRoaXMpLHNob3c6dGhpcy5zaG93LmJpbmQodGhpcyksaGlkZTp0aGlzLmhpZGUuYmluZCh0aGlzKSxhZGQ6dGhpcy5hZGRUb0RvbS5iaW5kKHRoaXMpLHJlbW92ZTp0aGlzLnJlbW92ZUZyb21Eb20uYmluZCh0aGlzKSxkZXN0cm95OnRoaXMuZGVzdHJveS5iaW5kKHRoaXMpLHNldFBvc2l0aW9uOnRoaXMuc2V0UG9zaXRpb24uYmluZCh0aGlzKSxyZXNldERpcmVjdGlvbjp0aGlzLnJlc2V0RGlyZWN0aW9uLmJpbmQodGhpcyksY29tcHV0ZURpcmVjdGlvbjp0aGlzLmNvbXB1dGVEaXJlY3Rpb24uYmluZCh0aGlzKSx0cmlnZ2VyOnRoaXMudHJpZ2dlci5iaW5kKHRoaXMpLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sZnJvbnRQb3NpdGlvbjp0aGlzLmZyb250UG9zaXRpb24sdWk6dGhpcy51aSxpZGVudGlmaWVyOnRoaXMuaWRlbnRpZmllcixpZDp0aGlzLmlkLG9wdGlvbnM6dGhpcy5vcHRpb25zfSx0aGlzLmluc3RhbmNlfWsucHJvdG90eXBlPW5ldyBULGsuY29uc3RydWN0b3I9ayxrLmlkPTAsay5wcm90b3R5cGUuYnVpbGRFbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51aT17fSx0aGlzLm9wdGlvbnMuZGF0YU9ubHk/dGhpczoodGhpcy51aS5lbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMudWkuYmFjaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMudWkuZnJvbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnVpLmVsLmNsYXNzTmFtZT1cIm5pcHBsZSBjb2xsZWN0aW9uX1wiK3RoaXMuY29sbGVjdGlvbi5pZCx0aGlzLnVpLmJhY2suY2xhc3NOYW1lPVwiYmFja1wiLHRoaXMudWkuZnJvbnQuY2xhc3NOYW1lPVwiZnJvbnRcIix0aGlzLnVpLmVsLnNldEF0dHJpYnV0ZShcImlkXCIsXCJuaXBwbGVfXCIrdGhpcy5jb2xsZWN0aW9uLmlkK1wiX1wiK3RoaXMuaWQpLHRoaXMudWkuZWwuYXBwZW5kQ2hpbGQodGhpcy51aS5iYWNrKSx0aGlzLnVpLmVsLmFwcGVuZENoaWxkKHRoaXMudWkuZnJvbnQpLHRoaXMpfSxrLnByb3RvdHlwZS5zdHlsaXplPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmRhdGFPbmx5KXJldHVybiB0aGlzO3ZhciB0PXRoaXMub3B0aW9ucy5mYWRlVGltZStcIm1zXCIsaT1mdW5jdGlvbih0LGkpe3ZhciBlPXkodCk7Zm9yKHZhciBvIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShvKSYmKGVbb109aSk7cmV0dXJuIGV9KFwiYm9yZGVyUmFkaXVzXCIsXCI1MCVcIiksZT1mKFwidHJhbnNpdGlvblwiLFwib3BhY2l0eVwiLHQpLG89e307cmV0dXJuIG8uZWw9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixvcGFjaXR5OnRoaXMub3B0aW9ucy5yZXN0T3BhY2l0eSxkaXNwbGF5OlwiYmxvY2tcIix6SW5kZXg6OTk5fSxvLmJhY2s9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixkaXNwbGF5OlwiYmxvY2tcIix3aWR0aDp0aGlzLm9wdGlvbnMuc2l6ZStcInB4XCIsaGVpZ2h0OnRoaXMub3B0aW9ucy5zaXplK1wicHhcIixsZWZ0OjAsbWFyZ2luTGVmdDotdGhpcy5vcHRpb25zLnNpemUvMitcInB4XCIsbWFyZ2luVG9wOi10aGlzLm9wdGlvbnMuc2l6ZS8yK1wicHhcIixiYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5jb2xvcixvcGFjaXR5OlwiLjVcIn0sby5mcm9udD17d2lkdGg6dGhpcy5vcHRpb25zLnNpemUvMitcInB4XCIsaGVpZ2h0OnRoaXMub3B0aW9ucy5zaXplLzIrXCJweFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixkaXNwbGF5OlwiYmxvY2tcIixsZWZ0OjAsbWFyZ2luTGVmdDotdGhpcy5vcHRpb25zLnNpemUvNCtcInB4XCIsbWFyZ2luVG9wOi10aGlzLm9wdGlvbnMuc2l6ZS80K1wicHhcIixiYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5jb2xvcixvcGFjaXR5OlwiLjVcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUoMHB4LCAwcHgpXCJ9LG0oby5lbCxlKSxcImNpcmNsZVwiPT09dGhpcy5vcHRpb25zLnNoYXBlJiZtKG8uYmFjayxpKSxtKG8uZnJvbnQsaSksdGhpcy5hcHBseVN0eWxlcyhvKSx0aGlzfSxrLnByb3RvdHlwZS5hcHBseVN0eWxlcz1mdW5jdGlvbih0KXtmb3IodmFyIGkgaW4gdGhpcy51aSlpZih0aGlzLnVpLmhhc093blByb3BlcnR5KGkpKWZvcih2YXIgZSBpbiB0W2ldKXRoaXMudWlbaV0uc3R5bGVbZV09dFtpXVtlXTtyZXR1cm4gdGhpc30say5wcm90b3R5cGUuYWRkVG9Eb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRhdGFPbmx5fHxkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMudWkuZWwpP3RoaXM6KHRoaXMub3B0aW9ucy56b25lLmFwcGVuZENoaWxkKHRoaXMudWkuZWwpLHRoaXMpfSxrLnByb3RvdHlwZS5yZW1vdmVGcm9tRG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5kYXRhT25seXx8IWRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy51aS5lbCk/dGhpczoodGhpcy5vcHRpb25zLnpvbmUucmVtb3ZlQ2hpbGQodGhpcy51aS5lbCksdGhpcyl9LGsucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5yZW1vdmVUaW1lb3V0KSxjbGVhclRpbWVvdXQodGhpcy5zaG93VGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMucmVzdFRpbWVvdXQpLHRoaXMudHJpZ2dlcihcImRlc3Ryb3llZFwiLHRoaXMuaW5zdGFuY2UpLHRoaXMucmVtb3ZlRnJvbURvbSgpLHRoaXMub2ZmKCl9LGsucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztyZXR1cm4gaS5vcHRpb25zLmRhdGFPbmx5P2k6KGNsZWFyVGltZW91dChpLnJlbW92ZVRpbWVvdXQpLGNsZWFyVGltZW91dChpLnNob3dUaW1lb3V0KSxjbGVhclRpbWVvdXQoaS5yZXN0VGltZW91dCksaS5hZGRUb0RvbSgpLGkucmVzdENhbGxiYWNrKCksc2V0VGltZW91dChmdW5jdGlvbigpe2kudWkuZWwuc3R5bGUub3BhY2l0eT0xfSwwKSxpLnNob3dUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnRyaWdnZXIoXCJzaG93blwiLGkuaW5zdGFuY2UpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY2FsbCh0aGlzKX0saS5vcHRpb25zLmZhZGVUaW1lKSxpKX0say5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2lmKGkub3B0aW9ucy5kYXRhT25seSlyZXR1cm4gaTtpZihpLnVpLmVsLnN0eWxlLm9wYWNpdHk9aS5vcHRpb25zLnJlc3RPcGFjaXR5LGNsZWFyVGltZW91dChpLnJlbW92ZVRpbWVvdXQpLGNsZWFyVGltZW91dChpLnNob3dUaW1lb3V0KSxjbGVhclRpbWVvdXQoaS5yZXN0VGltZW91dCksaS5yZW1vdmVUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1cImR5bmFtaWNcIj09PWkub3B0aW9ucy5tb2RlP1wibm9uZVwiOlwiYmxvY2tcIjtpLnVpLmVsLnN0eWxlLmRpc3BsYXk9ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNhbGwoaSksaS50cmlnZ2VyKFwiaGlkZGVuXCIsaS5pbnN0YW5jZSl9LGkub3B0aW9ucy5mYWRlVGltZSksaS5vcHRpb25zLnJlc3RKb3lzdGljayl7dmFyIGU9aS5vcHRpb25zLnJlc3RKb3lzdGljayxvPXt9O28ueD0hMD09PWV8fCExIT09ZS54PzA6aS5pbnN0YW5jZS5mcm9udFBvc2l0aW9uLngsby55PSEwPT09ZXx8ITEhPT1lLnk/MDppLmluc3RhbmNlLmZyb250UG9zaXRpb24ueSxpLnNldFBvc2l0aW9uKHQsbyl9cmV0dXJuIGl9LGsucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcztlLmZyb250UG9zaXRpb249e3g6aS54LHk6aS55fTt2YXIgbz1lLm9wdGlvbnMuZmFkZVRpbWUrXCJtc1wiLG49e307bi5mcm9udD1mKFwidHJhbnNpdGlvblwiLFtcInRyYW5zZm9ybVwiXSxvKTt2YXIgcz17ZnJvbnQ6e319O3MuZnJvbnQ9e3RyYW5zZm9ybTpcInRyYW5zbGF0ZShcIitlLmZyb250UG9zaXRpb24ueCtcInB4LFwiK2UuZnJvbnRQb3NpdGlvbi55K1wicHgpXCJ9LGUuYXBwbHlTdHlsZXMobiksZS5hcHBseVN0eWxlcyhzKSxlLnJlc3RUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNhbGwoZSksZS5yZXN0Q2FsbGJhY2soKX0sZS5vcHRpb25zLmZhZGVUaW1lKX0say5wcm90b3R5cGUucmVzdENhbGxiYWNrPWZ1bmN0aW9uKCl7dmFyIHQ9e307dC5mcm9udD1mKFwidHJhbnNpdGlvblwiLFwibm9uZVwiLFwiXCIpLHRoaXMuYXBwbHlTdHlsZXModCksdGhpcy50cmlnZ2VyKFwicmVzdGVkXCIsdGhpcy5pbnN0YW5jZSl9LGsucHJvdG90eXBlLnJlc2V0RGlyZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5kaXJlY3Rpb249e3g6ITEseTohMSxhbmdsZTohMX19LGsucHJvdG90eXBlLmNvbXB1dGVEaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGksZSxvLG49dC5hbmdsZS5yYWRpYW4scz1NYXRoLlBJLzQscj1NYXRoLlBJLzI7aWYobj5zJiZuPDMqcyYmIXQubG9ja1g/aT1cInVwXCI6bj4tcyYmbjw9cyYmIXQubG9ja1k/aT1cImxlZnRcIjpuPjMqLXMmJm48PS1zJiYhdC5sb2NrWD9pPVwiZG93blwiOnQubG9ja1l8fChpPVwicmlnaHRcIiksdC5sb2NrWXx8KGU9bj4tciYmbjxyP1wibGVmdFwiOlwicmlnaHRcIiksdC5sb2NrWHx8KG89bj4wP1widXBcIjpcImRvd25cIiksdC5mb3JjZT50aGlzLm9wdGlvbnMudGhyZXNob2xkKXt2YXIgZCxhPXt9O2ZvcihkIGluIHRoaXMuZGlyZWN0aW9uKXRoaXMuZGlyZWN0aW9uLmhhc093blByb3BlcnR5KGQpJiYoYVtkXT10aGlzLmRpcmVjdGlvbltkXSk7dmFyIHA9e307Zm9yKGQgaW4gdGhpcy5kaXJlY3Rpb249e3g6ZSx5Om8sYW5nbGU6aX0sdC5kaXJlY3Rpb249dGhpcy5kaXJlY3Rpb24sYSlhW2RdPT09dGhpcy5kaXJlY3Rpb25bZF0mJihwW2RdPSEwKTtpZihwLngmJnAueSYmcC5hbmdsZSlyZXR1cm4gdDtwLngmJnAueXx8dGhpcy50cmlnZ2VyKFwicGxhaW5cIix0KSxwLnh8fHRoaXMudHJpZ2dlcihcInBsYWluOlwiK2UsdCkscC55fHx0aGlzLnRyaWdnZXIoXCJwbGFpbjpcIitvLHQpLHAuYW5nbGV8fHRoaXMudHJpZ2dlcihcImRpciBkaXI6XCIraSx0KX1lbHNlIHRoaXMucmVzZXREaXJlY3Rpb24oKTtyZXR1cm4gdH07dmFyIFA9aztmdW5jdGlvbiBFKHQsaSl7dGhpcy5uaXBwbGVzPVtdLHRoaXMuaWRsZXM9W10sdGhpcy5hY3RpdmVzPVtdLHRoaXMuaWRzPVtdLHRoaXMucHJlc3N1cmVJbnRlcnZhbHM9e30sdGhpcy5tYW5hZ2VyPXQsdGhpcy5pZD1FLmlkLEUuaWQrPTEsdGhpcy5kZWZhdWx0cz17em9uZTpkb2N1bWVudC5ib2R5LG11bHRpdG91Y2g6ITEsbWF4TnVtYmVyT2ZOaXBwbGVzOjEwLG1vZGU6XCJkeW5hbWljXCIscG9zaXRpb246e3RvcDowLGxlZnQ6MH0sY2F0Y2hEaXN0YW5jZToyMDAsc2l6ZToxMDAsdGhyZXNob2xkOi4xLGNvbG9yOlwid2hpdGVcIixmYWRlVGltZToyNTAsZGF0YU9ubHk6ITEscmVzdEpveXN0aWNrOiEwLHJlc3RPcGFjaXR5Oi41LGxvY2tYOiExLGxvY2tZOiExLHNoYXBlOlwiY2lyY2xlXCIsZHluYW1pY1BhZ2U6ITEsZm9sbG93OiExfSx0aGlzLmNvbmZpZyhpKSxcInN0YXRpY1wiIT09dGhpcy5vcHRpb25zLm1vZGUmJlwic2VtaVwiIT09dGhpcy5vcHRpb25zLm1vZGV8fCh0aGlzLm9wdGlvbnMubXVsdGl0b3VjaD0hMSksdGhpcy5vcHRpb25zLm11bHRpdG91Y2h8fCh0aGlzLm9wdGlvbnMubWF4TnVtYmVyT2ZOaXBwbGVzPTEpO3ZhciBlPWdldENvbXB1dGVkU3R5bGUodGhpcy5vcHRpb25zLnpvbmUucGFyZW50RWxlbWVudCk7cmV0dXJuIGUmJlwiZmxleFwiPT09ZS5kaXNwbGF5JiYodGhpcy5wYXJlbnRJc0ZsZXg9ITApLHRoaXMudXBkYXRlQm94KCksdGhpcy5wcmVwYXJlTmlwcGxlcygpLHRoaXMuYmluZGluZ3MoKSx0aGlzLmJlZ2luKCksdGhpcy5uaXBwbGVzfUUucHJvdG90eXBlPW5ldyBULEUuY29uc3RydWN0b3I9RSxFLmlkPTAsRS5wcm90b3R5cGUucHJlcGFyZU5pcHBsZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5pcHBsZXM7dC5vbj10aGlzLm9uLmJpbmQodGhpcyksdC5vZmY9dGhpcy5vZmYuYmluZCh0aGlzKSx0Lm9wdGlvbnM9dGhpcy5vcHRpb25zLHQuZGVzdHJveT10aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSx0Lmlkcz10aGlzLmlkcyx0LmlkPXRoaXMuaWQsdC5wcm9jZXNzT25Nb3ZlPXRoaXMucHJvY2Vzc09uTW92ZS5iaW5kKHRoaXMpLHQucHJvY2Vzc09uRW5kPXRoaXMucHJvY2Vzc09uRW5kLmJpbmQodGhpcyksdC5nZXQ9ZnVuY3Rpb24oaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gdFswXTtmb3IodmFyIGU9MCxvPXQubGVuZ3RoO2U8bztlKz0xKWlmKHRbZV0uaWRlbnRpZmllcj09PWkpcmV0dXJuIHRbZV07cmV0dXJuITF9fSxFLnByb3RvdHlwZS5iaW5kaW5ncz1mdW5jdGlvbigpe3RoaXMuYmluZEV2dCh0aGlzLm9wdGlvbnMuem9uZSxcInN0YXJ0XCIpLHRoaXMub3B0aW9ucy56b25lLnN0eWxlLnRvdWNoQWN0aW9uPVwibm9uZVwiLHRoaXMub3B0aW9ucy56b25lLnN0eWxlLm1zVG91Y2hBY3Rpb249XCJub25lXCJ9LEUucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO2lmKFwic3RhdGljXCI9PT10Lm1vZGUpe3ZhciBpPXRoaXMuY3JlYXRlTmlwcGxlKHQucG9zaXRpb24sdGhpcy5tYW5hZ2VyLmdldElkZW50aWZpZXIoKSk7aS5hZGQoKSx0aGlzLmlkbGVzLnB1c2goaSl9fSxFLnByb3RvdHlwZS5jcmVhdGVOaXBwbGU9ZnVuY3Rpb24odCxpKXt2YXIgZT10aGlzLm1hbmFnZXIuc2Nyb2xsLG89e30sbj10aGlzLm9wdGlvbnMscz10aGlzLnBhcmVudElzRmxleD9lLng6ZS54K3RoaXMuYm94LmxlZnQscj10aGlzLnBhcmVudElzRmxleD9lLnk6ZS55K3RoaXMuYm94LnRvcDtpZih0LngmJnQueSlvPXt4OnQueC1zLHk6dC55LXJ9O2Vsc2UgaWYodC50b3B8fHQucmlnaHR8fHQuYm90dG9tfHx0LmxlZnQpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7ZC5zdHlsZS5kaXNwbGF5PVwiaGlkZGVuXCIsZC5zdHlsZS50b3A9dC50b3AsZC5zdHlsZS5yaWdodD10LnJpZ2h0LGQuc3R5bGUuYm90dG9tPXQuYm90dG9tLGQuc3R5bGUubGVmdD10LmxlZnQsZC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbi56b25lLmFwcGVuZENoaWxkKGQpO3ZhciBhPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bi56b25lLnJlbW92ZUNoaWxkKGQpLG89dCx0PXt4OmEubGVmdCtlLngseTphLnRvcCtlLnl9fXZhciBwPW5ldyBQKHRoaXMse2NvbG9yOm4uY29sb3Isc2l6ZTpuLnNpemUsdGhyZXNob2xkOm4udGhyZXNob2xkLGZhZGVUaW1lOm4uZmFkZVRpbWUsZGF0YU9ubHk6bi5kYXRhT25seSxyZXN0Sm95c3RpY2s6bi5yZXN0Sm95c3RpY2sscmVzdE9wYWNpdHk6bi5yZXN0T3BhY2l0eSxtb2RlOm4ubW9kZSxpZGVudGlmaWVyOmkscG9zaXRpb246dCx6b25lOm4uem9uZSxmcm9udFBvc2l0aW9uOnt4OjAseTowfSxzaGFwZTpuLnNoYXBlfSk7cmV0dXJuIG4uZGF0YU9ubHl8fCh1KHAudWkuZWwsbyksdShwLnVpLmZyb250LHAuZnJvbnRQb3NpdGlvbikpLHRoaXMubmlwcGxlcy5wdXNoKHApLHRoaXMudHJpZ2dlcihcImFkZGVkIFwiK3AuaWRlbnRpZmllcitcIjphZGRlZFwiLHApLHRoaXMubWFuYWdlci50cmlnZ2VyKFwiYWRkZWQgXCIrcC5pZGVudGlmaWVyK1wiOmFkZGVkXCIscCksdGhpcy5iaW5kTmlwcGxlKHApLHB9LEUucHJvdG90eXBlLnVwZGF0ZUJveD1mdW5jdGlvbigpe3RoaXMuYm94PXRoaXMub3B0aW9ucy56b25lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfSxFLnByb3RvdHlwZS5iaW5kTmlwcGxlPWZ1bmN0aW9uKHQpe3ZhciBpLGU9dGhpcyxvPWZ1bmN0aW9uKHQsbyl7aT10LnR5cGUrXCIgXCIrby5pZCtcIjpcIit0LnR5cGUsZS50cmlnZ2VyKGksbyl9O3Qub24oXCJkZXN0cm95ZWRcIixlLm9uRGVzdHJveWVkLmJpbmQoZSkpLHQub24oXCJzaG93biBoaWRkZW4gcmVzdGVkIGRpciBwbGFpblwiLG8pLHQub24oXCJkaXI6dXAgZGlyOnJpZ2h0IGRpcjpkb3duIGRpcjpsZWZ0XCIsbyksdC5vbihcInBsYWluOnVwIHBsYWluOnJpZ2h0IHBsYWluOmRvd24gcGxhaW46bGVmdFwiLG8pfSxFLnByb3RvdHlwZS5wcmVzc3VyZUZuPWZ1bmN0aW9uKHQsaSxlKXt2YXIgbz10aGlzLG49MDtjbGVhckludGVydmFsKG8ucHJlc3N1cmVJbnRlcnZhbHNbZV0pLG8ucHJlc3N1cmVJbnRlcnZhbHNbZV09c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgZT10LmZvcmNlfHx0LnByZXNzdXJlfHx0LndlYmtpdEZvcmNlfHwwO2UhPT1uJiYoaS50cmlnZ2VyKFwicHJlc3N1cmVcIixlKSxvLnRyaWdnZXIoXCJwcmVzc3VyZSBcIitpLmlkZW50aWZpZXIrXCI6cHJlc3N1cmVcIixlKSxuPWUpfS5iaW5kKG8pLDEwMCl9LEUucHJvdG90eXBlLm9uc3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyxlPWkub3B0aW9ucyxvPXQ7dD1sKHQpLGkudXBkYXRlQm94KCk7cmV0dXJuIHYodCxmdW5jdGlvbihuKXtpLmFjdGl2ZXMubGVuZ3RoPGUubWF4TnVtYmVyT2ZOaXBwbGVzP2kucHJvY2Vzc09uU3RhcnQobik6by50eXBlLm1hdGNoKC9edG91Y2gvKSYmKE9iamVjdC5rZXlzKGkubWFuYWdlci5pZHMpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoT2JqZWN0LnZhbHVlcyhvLnRvdWNoZXMpLmZpbmRJbmRleChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZGVudGlmaWVyPT09ZX0pPDApe3ZhciBuPVt0WzBdXTtuLmlkZW50aWZpZXI9ZSxpLnByb2Nlc3NPbkVuZChuKX19KSxpLmFjdGl2ZXMubGVuZ3RoPGUubWF4TnVtYmVyT2ZOaXBwbGVzJiZpLnByb2Nlc3NPblN0YXJ0KG4pKX0pLGkubWFuYWdlci5iaW5kRG9jdW1lbnQoKSwhMX0sRS5wcm90b3R5cGUucHJvY2Vzc09uU3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGksZT10aGlzLG89ZS5vcHRpb25zLHM9ZS5tYW5hZ2VyLmdldElkZW50aWZpZXIodCkscj10LmZvcmNlfHx0LnByZXNzdXJlfHx0LndlYmtpdEZvcmNlfHwwLGQ9e3g6dC5wYWdlWCx5OnQucGFnZVl9LGE9ZS5nZXRPckNyZWF0ZShzLGQpO2EuaWRlbnRpZmllciE9PXMmJmUubWFuYWdlci5yZW1vdmVJZGVudGlmaWVyKGEuaWRlbnRpZmllciksYS5pZGVudGlmaWVyPXM7dmFyIHA9ZnVuY3Rpb24oaSl7aS50cmlnZ2VyKFwic3RhcnRcIixpKSxlLnRyaWdnZXIoXCJzdGFydCBcIitpLmlkK1wiOnN0YXJ0XCIsaSksaS5zaG93KCkscj4wJiZlLnByZXNzdXJlRm4odCxpLGkuaWRlbnRpZmllciksZS5wcm9jZXNzT25Nb3ZlKHQpfTtpZigoaT1lLmlkbGVzLmluZGV4T2YoYSkpPj0wJiZlLmlkbGVzLnNwbGljZShpLDEpLGUuYWN0aXZlcy5wdXNoKGEpLGUuaWRzLnB1c2goYS5pZGVudGlmaWVyKSxcInNlbWlcIiE9PW8ubW9kZSlwKGEpO2Vsc2V7aWYoIShuKGQsYS5wb3NpdGlvbik8PW8uY2F0Y2hEaXN0YW5jZSkpcmV0dXJuIGEuZGVzdHJveSgpLHZvaWQgZS5wcm9jZXNzT25TdGFydCh0KTtwKGEpfXJldHVybiBhfSxFLnByb3RvdHlwZS5nZXRPckNyZWF0ZT1mdW5jdGlvbih0LGkpe3ZhciBlLG89dGhpcy5vcHRpb25zO3JldHVybi8oc2VtaXxzdGF0aWMpLy50ZXN0KG8ubW9kZSk/KGU9dGhpcy5pZGxlc1swXSk/KHRoaXMuaWRsZXMuc3BsaWNlKDAsMSksZSk6XCJzZW1pXCI9PT1vLm1vZGU/dGhpcy5jcmVhdGVOaXBwbGUoaSx0KTooY29uc29sZS53YXJuKFwiQ291ZGxuJ3QgZmluZCB0aGUgbmVlZGVkIG5pcHBsZS5cIiksITEpOmU9dGhpcy5jcmVhdGVOaXBwbGUoaSx0KX0sRS5wcm90b3R5cGUucHJvY2Vzc09uTW92ZT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMsZT10aGlzLm1hbmFnZXIuZ2V0SWRlbnRpZmllcih0KSxvPXRoaXMubmlwcGxlcy5nZXQoZSksZD10aGlzLm1hbmFnZXIuc2Nyb2xsO2lmKGZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0LmJ1dHRvbnMpPzAhPT10LnByZXNzdXJlOjAhPT10LmJ1dHRvbnN9KHQpKXtpZighbylyZXR1cm4gY29uc29sZS5lcnJvcihcIkZvdW5kIHpvbWJpZSBqb3lzdGljayB3aXRoIElEIFwiK2UpLHZvaWQgdGhpcy5tYW5hZ2VyLnJlbW92ZUlkZW50aWZpZXIoZSk7aWYoaS5keW5hbWljUGFnZSl7dmFyIGE9by5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtvLnBvc2l0aW9uPXt4OmQueCthLmxlZnQseTpkLnkrYS50b3B9fW8uaWRlbnRpZmllcj1lO3ZhciBwPW8ub3B0aW9ucy5zaXplLzIsYz17eDp0LnBhZ2VYLHk6dC5wYWdlWX07aS5sb2NrWCYmKGMueT1vLnBvc2l0aW9uLnkpLGkubG9ja1kmJihjLng9by5wb3NpdGlvbi54KTt2YXIgbCxoLHUsZix5LG0sdixnLGIseCxPPW4oYyxvLnBvc2l0aW9uKSx3PShsPWMsaD1vLnBvc2l0aW9uLHU9aC54LWwueCxmPWgueS1sLnkscihNYXRoLmF0YW4yKGYsdSkpKSxfPXModyksVD1PL3Asaz17ZGlzdGFuY2U6Tyxwb3NpdGlvbjpjfTtpZihcImNpcmNsZVwiPT09by5vcHRpb25zLnNoYXBlPyh5PU1hdGgubWluKE8scCksdj1vLnBvc2l0aW9uLGc9eSx4PXt4OjAseTowfSxiPXMoYj13KSx4Lng9di54LWcqTWF0aC5jb3MoYikseC55PXYueS1nKk1hdGguc2luKGIpLG09eCk6KG09ZnVuY3Rpb24odCxpLGUpe3JldHVybnt4Ok1hdGgubWluKE1hdGgubWF4KHQueCxpLngtZSksaS54K2UpLHk6TWF0aC5taW4oTWF0aC5tYXgodC55LGkueS1lKSxpLnkrZSl9fShjLG8ucG9zaXRpb24scCkseT1uKG0sby5wb3NpdGlvbikpLGkuZm9sbG93KXtpZihPPnApe3ZhciBQPWMueC1tLngsRT1jLnktbS55O28ucG9zaXRpb24ueCs9UCxvLnBvc2l0aW9uLnkrPUUsby5lbC5zdHlsZS50b3A9by5wb3NpdGlvbi55LSh0aGlzLmJveC50b3ArZC55KStcInB4XCIsby5lbC5zdHlsZS5sZWZ0PW8ucG9zaXRpb24ueC0odGhpcy5ib3gubGVmdCtkLngpK1wicHhcIixPPW4oYyxvLnBvc2l0aW9uKX19ZWxzZSBjPW0sTz15O3ZhciBJPWMueC1vLnBvc2l0aW9uLngsej1jLnktby5wb3NpdGlvbi55O28uZnJvbnRQb3NpdGlvbj17eDpJLHk6en0saS5kYXRhT25seXx8KG8udWkuZnJvbnQuc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKFwiK0krXCJweCxcIit6K1wicHgpXCIpO3ZhciBEPXtpZGVudGlmaWVyOm8uaWRlbnRpZmllcixwb3NpdGlvbjpjLGZvcmNlOlQscHJlc3N1cmU6dC5mb3JjZXx8dC5wcmVzc3VyZXx8dC53ZWJraXRGb3JjZXx8MCxkaXN0YW5jZTpPLGFuZ2xlOntyYWRpYW46XyxkZWdyZWU6d30sdmVjdG9yOnt4OkkvcCx5Oi16L3B9LHJhdzprLGluc3RhbmNlOm8sbG9ja1g6aS5sb2NrWCxsb2NrWTppLmxvY2tZfTsoRD1vLmNvbXB1dGVEaXJlY3Rpb24oRCkpLmFuZ2xlPXtyYWRpYW46cygxODAtdyksZGVncmVlOjE4MC13fSxvLnRyaWdnZXIoXCJtb3ZlXCIsRCksdGhpcy50cmlnZ2VyKFwibW92ZSBcIitvLmlkK1wiOm1vdmVcIixEKX1lbHNlIHRoaXMucHJvY2Vzc09uRW5kKHQpfSxFLnByb3RvdHlwZS5wcm9jZXNzT25FbmQ9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyxlPWkub3B0aW9ucyxvPWkubWFuYWdlci5nZXRJZGVudGlmaWVyKHQpLG49aS5uaXBwbGVzLmdldChvKSxzPWkubWFuYWdlci5yZW1vdmVJZGVudGlmaWVyKG4uaWRlbnRpZmllcik7biYmKGUuZGF0YU9ubHl8fG4uaGlkZShmdW5jdGlvbigpe1wiZHluYW1pY1wiPT09ZS5tb2RlJiYobi50cmlnZ2VyKFwicmVtb3ZlZFwiLG4pLGkudHJpZ2dlcihcInJlbW92ZWQgXCIrbi5pZCtcIjpyZW1vdmVkXCIsbiksaS5tYW5hZ2VyLnRyaWdnZXIoXCJyZW1vdmVkIFwiK24uaWQrXCI6cmVtb3ZlZFwiLG4pLG4uZGVzdHJveSgpKX0pLGNsZWFySW50ZXJ2YWwoaS5wcmVzc3VyZUludGVydmFsc1tuLmlkZW50aWZpZXJdKSxuLnJlc2V0RGlyZWN0aW9uKCksbi50cmlnZ2VyKFwiZW5kXCIsbiksaS50cmlnZ2VyKFwiZW5kIFwiK24uaWQrXCI6ZW5kXCIsbiksaS5pZHMuaW5kZXhPZihuLmlkZW50aWZpZXIpPj0wJiZpLmlkcy5zcGxpY2UoaS5pZHMuaW5kZXhPZihuLmlkZW50aWZpZXIpLDEpLGkuYWN0aXZlcy5pbmRleE9mKG4pPj0wJiZpLmFjdGl2ZXMuc3BsaWNlKGkuYWN0aXZlcy5pbmRleE9mKG4pLDEpLC8oc2VtaXxzdGF0aWMpLy50ZXN0KGUubW9kZSk/aS5pZGxlcy5wdXNoKG4pOmkubmlwcGxlcy5pbmRleE9mKG4pPj0wJiZpLm5pcHBsZXMuc3BsaWNlKGkubmlwcGxlcy5pbmRleE9mKG4pLDEpLGkubWFuYWdlci51bmJpbmREb2N1bWVudCgpLC8oc2VtaXxzdGF0aWMpLy50ZXN0KGUubW9kZSkmJihpLm1hbmFnZXIuaWRzW3MuaWRdPXMuaWRlbnRpZmllcikpfSxFLnByb3RvdHlwZS5vbkRlc3Ryb3llZD1mdW5jdGlvbih0LGkpe3RoaXMubmlwcGxlcy5pbmRleE9mKGkpPj0wJiZ0aGlzLm5pcHBsZXMuc3BsaWNlKHRoaXMubmlwcGxlcy5pbmRleE9mKGkpLDEpLHRoaXMuYWN0aXZlcy5pbmRleE9mKGkpPj0wJiZ0aGlzLmFjdGl2ZXMuc3BsaWNlKHRoaXMuYWN0aXZlcy5pbmRleE9mKGkpLDEpLHRoaXMuaWRsZXMuaW5kZXhPZihpKT49MCYmdGhpcy5pZGxlcy5zcGxpY2UodGhpcy5pZGxlcy5pbmRleE9mKGkpLDEpLHRoaXMuaWRzLmluZGV4T2YoaS5pZGVudGlmaWVyKT49MCYmdGhpcy5pZHMuc3BsaWNlKHRoaXMuaWRzLmluZGV4T2YoaS5pZGVudGlmaWVyKSwxKSx0aGlzLm1hbmFnZXIucmVtb3ZlSWRlbnRpZmllcihpLmlkZW50aWZpZXIpLHRoaXMubWFuYWdlci51bmJpbmREb2N1bWVudCgpfSxFLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMudW5iaW5kRXZ0KHRoaXMub3B0aW9ucy56b25lLFwic3RhcnRcIiksdGhpcy5uaXBwbGVzLmZvckVhY2goZnVuY3Rpb24odCl7dC5kZXN0cm95KCl9KSx0aGlzLnByZXNzdXJlSW50ZXJ2YWxzKXRoaXMucHJlc3N1cmVJbnRlcnZhbHMuaGFzT3duUHJvcGVydHkodCkmJmNsZWFySW50ZXJ2YWwodGhpcy5wcmVzc3VyZUludGVydmFsc1t0XSk7dGhpcy50cmlnZ2VyKFwiZGVzdHJveWVkXCIsdGhpcy5uaXBwbGVzKSx0aGlzLm1hbmFnZXIudW5iaW5kRG9jdW1lbnQoKSx0aGlzLm9mZigpfTt2YXIgST1FO2Z1bmN0aW9uIHoodCl7dmFyIGk9dGhpcztpLmlkcz17fSxpLmluZGV4PTAsaS5jb2xsZWN0aW9ucz1bXSxpLnNjcm9sbD1oKCksaS5jb25maWcodCksaS5wcmVwYXJlQ29sbGVjdGlvbnMoKTt2YXIgZT1mdW5jdGlvbigpe3ZhciB0O2kuY29sbGVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dD1lLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGUucG9zaXRpb249e3g6aS5zY3JvbGwueCt0LmxlZnQseTppLnNjcm9sbC55K3QudG9wfX0pfSl9O3Aod2luZG93LFwicmVzaXplXCIsZnVuY3Rpb24oKXthKGUpfSk7dmFyIG89ZnVuY3Rpb24oKXtpLnNjcm9sbD1oKCl9O3JldHVybiBwKHdpbmRvdyxcInNjcm9sbFwiLGZ1bmN0aW9uKCl7YShvKX0pLGkuY29sbGVjdGlvbnN9ei5wcm90b3R5cGU9bmV3IFQsei5jb25zdHJ1Y3Rvcj16LHoucHJvdG90eXBlLnByZXBhcmVDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5jb2xsZWN0aW9ucy5jcmVhdGU9dC5jcmVhdGUuYmluZCh0KSx0LmNvbGxlY3Rpb25zLm9uPXQub24uYmluZCh0KSx0LmNvbGxlY3Rpb25zLm9mZj10Lm9mZi5iaW5kKHQpLHQuY29sbGVjdGlvbnMuZGVzdHJveT10LmRlc3Ryb3kuYmluZCh0KSx0LmNvbGxlY3Rpb25zLmdldD1mdW5jdGlvbihpKXt2YXIgZTtyZXR1cm4gdC5jb2xsZWN0aW9ucy5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4hKGU9dC5nZXQoaSkpfSksZX19LHoucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jcmVhdGVDb2xsZWN0aW9uKHQpfSx6LnByb3RvdHlwZS5jcmVhdGVDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBJKHRoaXMsdCk7cmV0dXJuIHRoaXMuYmluZENvbGxlY3Rpb24oaSksdGhpcy5jb2xsZWN0aW9ucy5wdXNoKGkpLGl9LHoucHJvdG90eXBlLmJpbmRDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBpLGU9dGhpcyxvPWZ1bmN0aW9uKHQsbyl7aT10LnR5cGUrXCIgXCIrby5pZCtcIjpcIit0LnR5cGUsZS50cmlnZ2VyKGksbyl9O3Qub24oXCJkZXN0cm95ZWRcIixlLm9uRGVzdHJveWVkLmJpbmQoZSkpLHQub24oXCJzaG93biBoaWRkZW4gcmVzdGVkIGRpciBwbGFpblwiLG8pLHQub24oXCJkaXI6dXAgZGlyOnJpZ2h0IGRpcjpkb3duIGRpcjpsZWZ0XCIsbyksdC5vbihcInBsYWluOnVwIHBsYWluOnJpZ2h0IHBsYWluOmRvd24gcGxhaW46bGVmdFwiLG8pfSx6LnByb3RvdHlwZS5iaW5kRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLmJpbmRlZHx8KHRoaXMuYmluZEV2dChkb2N1bWVudCxcIm1vdmVcIikuYmluZEV2dChkb2N1bWVudCxcImVuZFwiKSx0aGlzLmJpbmRlZD0hMCl9LHoucHJvdG90eXBlLnVuYmluZERvY3VtZW50PWZ1bmN0aW9uKHQpe09iamVjdC5rZXlzKHRoaXMuaWRzKS5sZW5ndGgmJiEwIT09dHx8KHRoaXMudW5iaW5kRXZ0KGRvY3VtZW50LFwibW92ZVwiKS51bmJpbmRFdnQoZG9jdW1lbnQsXCJlbmRcIiksdGhpcy5iaW5kZWQ9ITEpfSx6LnByb3RvdHlwZS5nZXRJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiB0P3ZvaWQgMD09PShpPXZvaWQgMD09PXQuaWRlbnRpZmllcj90LnBvaW50ZXJJZDp0LmlkZW50aWZpZXIpJiYoaT10aGlzLmxhdGVzdHx8MCk6aT10aGlzLmluZGV4LHZvaWQgMD09PXRoaXMuaWRzW2ldJiYodGhpcy5pZHNbaV09dGhpcy5pbmRleCx0aGlzLmluZGV4Kz0xKSx0aGlzLmxhdGVzdD1pLHRoaXMuaWRzW2ldfSx6LnByb3RvdHlwZS5yZW1vdmVJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3ZhciBpPXt9O2Zvcih2YXIgZSBpbiB0aGlzLmlkcylpZih0aGlzLmlkc1tlXT09PXQpe2kuaWQ9ZSxpLmlkZW50aWZpZXI9dGhpcy5pZHNbZV0sZGVsZXRlIHRoaXMuaWRzW2VdO2JyZWFrfXJldHVybiBpfSx6LnByb3RvdHlwZS5vbm1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25BbnkoXCJtb3ZlXCIsdCksITF9LHoucHJvdG90eXBlLm9uZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQW55KFwiZW5kXCIsdCksITF9LHoucHJvdG90eXBlLm9uY2FuY2VsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQW55KFwiZW5kXCIsdCksITF9LHoucHJvdG90eXBlLm9uQW55PWZ1bmN0aW9uKHQsaSl7dmFyIGUsbz10aGlzLG49XCJwcm9jZXNzT25cIit0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aT1sKGkpO3JldHVybiB2KGksZnVuY3Rpb24odCl7ZT1vLmdldElkZW50aWZpZXIodCksdihvLmNvbGxlY3Rpb25zLGZ1bmN0aW9uKHQsaSxlKXtlLmlkcy5pbmRleE9mKGkpPj0wJiYoZVtuXSh0KSx0Ll9mb3VuZF89ITApfS5iaW5kKG51bGwsdCxlKSksdC5fZm91bmRffHxvLnJlbW92ZUlkZW50aWZpZXIoZSl9KSwhMX0sei5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudW5iaW5kRG9jdW1lbnQoITApLHRoaXMuaWRzPXt9LHRoaXMuaW5kZXg9MCx0aGlzLmNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24odCl7dC5kZXN0cm95KCl9KSx0aGlzLm9mZigpfSx6LnByb3RvdHlwZS5vbkRlc3Ryb3llZD1mdW5jdGlvbih0LGkpe2lmKHRoaXMuY29sbGVjdGlvbnMuaW5kZXhPZihpKTwwKXJldHVybiExO3RoaXMuY29sbGVjdGlvbnMuc3BsaWNlKHRoaXMuY29sbGVjdGlvbnMuaW5kZXhPZihpKSwxKX07dmFyIEQ9bmV3IHo7aS5kZWZhdWx0PXtjcmVhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIEQuY3JlYXRlKHQpfSxmYWN0b3J5OkR9fV0pLmRlZmF1bHR9KTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/nipplejs/dist/nipplejs.js\n"));

/***/ })

}]);